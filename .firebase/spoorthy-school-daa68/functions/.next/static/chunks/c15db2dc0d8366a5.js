(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19455,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(91918),r=e.i(75157);let n=s.forwardRef(({className:e,variant:s="default",size:n="default",asChild:l=!1,...i},c)=>{let d=l?a.Slot:"button";return(0,t.jsx)(d,{className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 tracking-wide",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:scale-105 active:scale-95 transition-transform":"default"===s,"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm":"destructive"===s,"border border-white/20 bg-transparent hover:bg-white/10 hover:text-accent-foreground":"outline"===s,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===s,"hover:bg-white/10 hover:text-accent font-normal":"ghost"===s,"text-primary underline-offset-4 hover:underline":"link"===s,"bg-gradient-to-r from-accent to-accent/80 text-black font-bold hover:brightness-110 border-0 shadow-lg hover:shadow-accent/20":"gradient"===s,"bg-accent text-black font-bold hover:bg-accent/90 hover:scale-105 active:scale-95 transition-transform shadow-lg":"spotify"===s,"h-10 px-6 py-2":"default"===n,"h-9 px-4 text-xs":"sm"===n,"h-12 px-8 text-base":"lg"===n,"h-14 px-10 text-lg":"xl"===n,"h-10 w-10":"icon"===n},e),ref:c,...i})});n.displayName="Button",e.s(["Button",()=>n])},99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},57428,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(20783),r=e.i(30030),n=e.i(81140),l=e.i(69340),i=e.i(99682),c=e.i(35804),d=e.i(96626),o=e.i(48425),x="Checkbox",[m,u]=(0,r.createContextScope)(x),[p,h]=m(x);function f(e){let{__scopeCheckbox:a,checked:r,children:n,defaultChecked:i,disabled:c,form:d,name:o,onCheckedChange:m,required:u,value:h="on",internal_do_not_use_render:f}=e,[g,b]=(0,l.useControllableState)({prop:r,defaultProp:i??!1,onChange:m,caller:x}),[j,v]=s.useState(null),[N,w]=s.useState(null),y=s.useRef(!1),C=!j||!!d||!!j.closest("form"),S={checked:g,disabled:c,setChecked:b,control:j,setControl:v,name:o,form:d,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:!k(i)&&i,isFormControl:C,bubbleInput:N,setBubbleInput:w};return(0,t.jsx)(p,{scope:a,...S,children:"function"==typeof f?f(S):n})}var g="CheckboxTrigger",b=s.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:l,...i},c)=>{let{control:d,value:x,disabled:m,checked:u,required:p,setControl:f,setChecked:b,hasConsumerStoppedPropagationRef:j,isFormControl:v,bubbleInput:N}=h(g,e),w=(0,a.useComposedRefs)(c,f),y=s.useRef(u);return s.useEffect(()=>{let e=d?.form;if(e){let t=()=>b(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,b]),(0,t.jsx)(o.Primitive.button,{type:"button",role:"checkbox","aria-checked":k(u)?"mixed":u,"aria-required":p,"data-state":C(u),"data-disabled":m?"":void 0,disabled:m,value:x,...i,ref:w,onKeyDown:(0,n.composeEventHandlers)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(l,e=>{b(e=>!!k(e)||!e),N&&v&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});b.displayName=g;var j=s.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:r,checked:n,defaultChecked:l,required:i,disabled:c,value:d,onCheckedChange:o,form:x,...m}=e;return(0,t.jsx)(f,{__scopeCheckbox:a,checked:n,defaultChecked:l,disabled:c,required:i,onCheckedChange:o,name:r,form:x,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{...m,ref:s,__scopeCheckbox:a}),e&&(0,t.jsx)(y,{__scopeCheckbox:a})]})})});j.displayName=x;var v="CheckboxIndicator",N=s.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:r,...n}=e,l=h(v,a);return(0,t.jsx)(d.Presence,{present:r||k(l.checked)||!0===l.checked,children:(0,t.jsx)(o.Primitive.span,{"data-state":C(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...e.style}})})});N.displayName=v;var w="CheckboxBubbleInput",y=s.forwardRef(({__scopeCheckbox:e,...r},n)=>{let{control:l,hasConsumerStoppedPropagationRef:d,checked:x,defaultChecked:m,required:u,disabled:p,name:f,value:g,form:b,bubbleInput:j,setBubbleInput:v}=h(w,e),N=(0,a.useComposedRefs)(n,v),y=(0,i.usePrevious)(x),C=(0,c.useSize)(l);s.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(y!==x&&e){let s=new Event("click",{bubbles:t});j.indeterminate=k(x),e.call(j,!k(x)&&x),j.dispatchEvent(s)}},[j,y,x,d]);let S=s.useRef(!k(x)&&x);return(0,t.jsx)(o.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??S.current,required:u,disabled:p,name:f,value:g,form:b,...r,tabIndex:-1,ref:N,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function k(e){return"indeterminate"===e}function C(e){return k(e)?"indeterminate":e?"checked":"unchecked"}y.displayName=w;var S=e.i(43531),I=e.i(75157);let E=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(j,{ref:a,className:(0,I.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,t.jsx)(N,{className:(0,I.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(S.Check,{className:"h-4 w-4"})})}));E.displayName=j.displayName,e.s(["Checkbox",()=>E],57428)},61659,e=>{"use strict";let t=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],61659)},2747,e=>{"use strict";var t=e.i(43476),s=e.i(75157);function a({className:e,...a}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted/20",e),...a})}e.s(["Skeleton",()=>a])},64247,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(36180);var a=e.i(98925),r=e.i(59141),n=e.i(32341),l=e.i(69638),i=e.i(3116),c=e.i(19455),d=e.i(57428),o=e.i(61659),x=e.i(52754),m=e.i(87316),u=e.i(52571),p=e.i(10980),h=e.i(2747);function f(){let e,{user:f}=(0,n.useAuth)(),[g,b]=(0,s.useState)(!0),[j,v]=(0,s.useState)(null),[N,w]=(0,s.useState)(null),[y,k]=(0,s.useState)(null),[C,S]=(0,s.useState)("pending"),[I,E]=(0,s.useState)(new Set),[P,A]=(0,s.useState)({}),[D,R]=(0,s.useState)(!1),[L,T]=(0,s.useState)([]),M=f?.email?.split("@")[0].toUpperCase();(0,s.useEffect)(()=>{let e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),(async()=>{if(M)try{let[e,t,s]=await Promise.all([(0,a.getDoc)((0,a.doc)(r.db,"config","razorpay")),(0,a.getDoc)((0,a.doc)(r.db,"students",M)),(0,a.getDoc)((0,a.doc)(r.db,"student_fee_ledgers",`${M}_2025-2026`))]);if(e.exists()&&k(e.data()),t.exists()&&v(t.data()),s.exists()){let e=s.data();w(e),S("PAID"===e.status?"paid":"pending");let t=new Set,a={},r=e.items||[],n=r.filter(e=>e.amount<0).reduce((e,t)=>e+Math.abs(t.amount-(t.paidAmount||0)),0);r.filter(e=>e.amount>0).forEach(e=>{let s=e.amount-(e.paidAmount||0),r=Math.min(s,n),l=s-r;n-=r,l>0&&(t.add(e.id),a[e.id]=l.toString())}),E(t),A(a)}}catch(e){console.error("Dashboard Fetch Error",e)}finally{b(!1)}})(),()=>{e&&document.body.contains(e)&&document.body.removeChild(e)}},[M]),(0,s.useEffect)(()=>{if(!j?.classId)return;let e=!0;console.log("[Dashboard] Listening for homework targeting:",{classId:j.classId,sectionId:j.sectionId});let t=D?(0,a.query)((0,a.collection)(r.db,"homework"),(0,a.where)("classId","==",j.classId),(0,a.limit)(10)):(0,a.query)((0,a.collection)(r.db,"homework"),(0,a.where)("classId","==",j.classId),(0,a.orderBy)("createdAt","desc"),(0,a.limit)(10)),s=(0,a.onSnapshot)(t,t=>{if(!e)return;let s=t.docs.map(e=>({id:e.id,...e.data()})),a=j.sectionId?s.filter(e=>!e.sectionId||e.sectionId===j.sectionId||"ALL"===e.sectionId||"GENERAL"===e.sectionId):s;D&&(a=[...a].sort((e,t)=>(t.createdAt?.seconds||0)-(e.createdAt?.seconds||0))),console.log("[Dashboard] Homework received/filtered:",a.length),T(a.slice(0,3))},t=>{e&&(t.message.includes("index")&&!D?(console.warn("[Dashboard] Index missing, switching to fallback query."),R(!0)):t.message.includes("index")||console.error("[Dashboard] Homework Sync Error:",t))});return()=>{e=!1,s()}},[j?.classId,j?.sectionId,D]);let _=(e,t)=>{if(t<0)return;let s=new Set(I);if(s.has(e)){s.delete(e);let t={...P};delete t[e],A(t)}else s.add(e),A({...P,[e]:t.toString()});E(s)},O=(e,t,s)=>{let a=t.replace(/[^0-9.-]/g,"");if(s<0){if(Number(a)<s||Number(a)>0)return}else if(Number(a)>s||0>Number(a))return;A({...P,[e]:a})},B=Array.from(I).reduce((e,t)=>{let s=N?.items?.find(e=>e.id===t),a=Number(P[t])||0;return e+(s&&s.amount>0?a:0)},0),F=N?.items?.reduce((e,t)=>e+(t.amount>0?t.amount:0),0)||0,$=N?.items?.reduce((e,t)=>e+(t.amount<0?Math.abs(t.amount):0),0)||0,z=Math.max(0,F-(N?.totalPaid||0)-$),q=N?.items?.filter(e=>"TERM"===e.type&&e.amount-(e.paidAmount||0)>=0)||[],H=N?.items?.filter(e=>"CUSTOM"===e.type&&e.amount-(e.paidAmount||0)>=0)||[],G=N?.items?.filter(e=>e.amount-(e.paidAmount||0)<0)||[];return(0,t.jsxs)("div",{className:"space-y-6 md:space-y-8 pb-12",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 px-2 md:px-0",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-display text-3xl md:text-5xl font-bold bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent italic",children:"My Dashboard"}),(0,t.jsxs)("p",{className:"text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(m.Calendar,{className:"w-4 h-4 text-accent"}),"Academic Year ",N?.academicYearId||"2025-2026"]})]})}),g?(0,t.jsx)(h.Skeleton,{className:"h-32 w-full rounded-3xl"}):L.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in slide-in-from-top duration-700",children:(0,t.jsxs)("div",{className:"md:col-span-3 glass-panel p-6 rounded-3xl border-accent/20 bg-accent/5 flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-accent/10 flex items-center justify-center border border-accent/20",children:(0,t.jsx)(p.BookOpen,{className:"w-6 h-6 text-accent"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg italic",children:"New Assignments Received"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-widest",children:[L.length," items requiring your attention"]})]})]}),(0,t.jsx)("div",{className:"flex -space-x-4 overflow-hidden",children:L.map((e,s)=>(0,t.jsx)("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-black bg-neutral-800 flex items-center justify-center text-[10px] font-black uppercase",title:e.title,children:e.subjectId?.substring(0,1)},e.id))}),(0,t.jsx)(c.Button,{variant:"outline",className:"rounded-xl border-accent/20 text-accent hover:bg-accent hover:text-accent-foreground font-bold italic h-12 px-8",onClick:()=>window.location.href="/student/homework",children:"View Homework Feed"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[g?(0,t.jsx)(h.Skeleton,{className:"h-64 w-full rounded-3xl"}):(0,t.jsxs)("div",{className:"glass-panel p-8 rounded-3xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-accent/5 rounded-full -mr-16 -mt-16 blur-3xl group-hover:bg-accent/10 transition-colors"}),(0,t.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[(0,t.jsx)(u.Info,{className:"w-5 h-5 text-accent"}),"Student Profile"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-muted-foreground uppercase text-[10px] tracking-widest font-bold",children:"Full Name"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-accent",children:j?.studentName||"..."})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-muted-foreground uppercase text-[10px] tracking-widest font-bold",children:"School ID"}),(0,t.jsx)("p",{className:"text-lg font-mono font-bold",children:M})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-muted-foreground uppercase text-[10px] tracking-widest font-bold",children:"Grade / Class"}),(0,t.jsxs)("p",{className:"text-lg font-semibold",children:[j?.className||"..."," ",j?.sectionName?`(${j.sectionName})`:""]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-muted-foreground uppercase text-[10px] tracking-widest font-bold",children:"Parent Contact"}),(0,t.jsxs)("p",{className:"text-lg font-semibold",children:[j?.parentName||"..."," - ",j?.parentMobile||"..."]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-3 italic",children:[(0,t.jsx)(x.Wallet,{className:"w-6 h-6 text-accent"}),"Fee Breakdown & Selection"]}),G.length>0&&(0,t.jsx)("div",{className:"glass-panel rounded-3xl overflow-hidden border-green-500/20 bg-green-500/5",children:(0,t.jsxs)("div",{className:"px-6 py-4 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-green-500/20 p-2 rounded-xl",children:(0,t.jsx)(l.CheckCircle,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-green-400 text-sm italic uppercase tracking-widest",children:"Active Scholarships & Credits"}),(0,t.jsx)("p",{className:"text-[10px] text-green-400/60 font-bold uppercase",children:"These benefits are automatically deducted from your term fees below."})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-[10px] text-green-500/50 uppercase font-black",children:"Total Benefit Value"}),(0,t.jsxs)("p",{className:"text-2xl font-black text-green-400",children:["- â‚¹",$.toLocaleString()]})]})]})}),g?(0,t.jsx)(h.Skeleton,{className:"h-96 w-full rounded-3xl"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"glass-panel rounded-3xl overflow-hidden border-white/5 shadow-2xl",children:[(0,t.jsxs)("div",{className:"bg-white/5 px-6 py-4 flex justify-between items-center border-b border-white/10",children:[(0,t.jsx)("h3",{className:"font-bold text-accent tracking-wide uppercase text-xs",children:"Term Fees"}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground bg-white/5 px-2 py-1 rounded",children:"MANDATORY"})]}),(0,t.jsx)("div",{className:"p-2",children:(e=$,q.length>0?q.map(s=>{let a=s.amount-(s.paidAmount||0),r=Math.min(a,e),n=a-r;e-=r;let c=I.has(s.id);return(0,t.jsxs)("div",{className:`flex flex-col md:flex-row md:items-center justify-between p-4 rounded-2xl mb-2 transition-all ${c?"bg-accent/10 border border-accent/20":"hover:bg-white/5 border border-transparent"} ${0===n?"opacity-60 grayscale-[0.5]":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[0===n?(0,t.jsx)("div",{className:"w-5 h-5 flex items-center justify-center bg-green-500 rounded-md",children:(0,t.jsx)(l.CheckCircle,{className:"w-4 h-4 text-white"})}):(0,t.jsx)(d.Checkbox,{checked:c,onCheckedChange:()=>_(s.id,n)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-bold flex items-center gap-2",children:[s.name,r>0&&(0,t.jsxs)("span",{className:"text-[9px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded-full font-black uppercase tracking-tighter",children:["â‚¹",r.toLocaleString()," DEDUCTED"]})]}),(0,t.jsxs)("p",{className:"text-[10px] text-muted-foreground flex items-center gap-1 uppercase tracking-tighter",children:[(0,t.jsx)(i.Clock,{className:"w-3 h-3"})," Originally â‚¹",s.amount.toLocaleString()," â€¢ Due: ",s.dueDate]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 mt-4 md:mt-0",children:[(0,t.jsxs)("div",{className:"text-right hidden md:block",children:[(0,t.jsx)("p",{className:`text-[10px] uppercase tracking-widest font-bold ${0===n?"text-green-500":"text-muted-foreground"}`,children:0===n?"PAID / COVERED":"Net Balance"}),(0,t.jsxs)("p",{className:`font-bold text-lg ${0===n?"text-green-400":"text-white"}`,children:["â‚¹",n.toLocaleString()]})]}),(0,t.jsxs)("div",{className:`w-32 bg-black/40 rounded-xl border border-white/10 p-1 flex items-center px-3 gap-1 ${0===n?"opacity-20 cursor-not-allowed":""}`,children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"â‚¹"}),(0,t.jsx)("input",{type:"text",value:P[s.id]||"",onChange:e=>O(s.id,e.target.value,n),className:"bg-transparent border-none outline-none text-sm font-bold w-full text-white",placeholder:"0",disabled:!c||0===n})]})]})]},s.id)}):(0,t.jsx)("p",{className:"p-8 text-center text-muted-foreground text-sm",children:"No term fees assigned or all paid."}))})]}),H.length>0&&(0,t.jsxs)("div",{className:"glass-panel rounded-3xl overflow-hidden border-white/5 shadow-2xl",children:[(0,t.jsx)("div",{className:"bg-white/5 px-6 py-4 flex justify-between items-center border-b border-white/10",children:(0,t.jsx)("h3",{className:"font-bold text-amber-500 tracking-wide uppercase text-xs",children:"Special & Custom Fees"})}),(0,t.jsx)("div",{className:"p-2",children:H.map(e=>{let s=e.amount-(e.paidAmount||0),a=I.has(e.id);return(0,t.jsxs)("div",{className:`flex flex-col md:flex-row md:items-center justify-between p-4 rounded-2xl mb-2 transition-all ${a?"bg-amber-500/10 border border-amber-500/20":"hover:bg-white/5 border border-transparent"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(d.Checkbox,{checked:a,onCheckedChange:()=>_(e.id,s),disabled:0===s,className:"data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-tighter",children:"Event / Special Fee"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 mt-4 md:mt-0",children:[(0,t.jsxs)("div",{className:"text-right hidden md:block",children:[(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Balance"}),(0,t.jsxs)("p",{className:"font-bold text-lg",children:["â‚¹",s.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"w-32 bg-black/40 rounded-xl border border-white/10 p-1 flex items-center px-3 gap-1",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"â‚¹"}),(0,t.jsx)("input",{type:"text",value:P[e.id]||"",onChange:t=>O(e.id,t.target.value,s),className:"bg-transparent border-none outline-none text-sm font-bold w-full text-white",placeholder:"0",disabled:!a})]})]})]},e.id)})})]})]})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:g?(0,t.jsx)(h.Skeleton,{className:"h-96 w-full rounded-3xl"}):(0,t.jsxs)("div",{className:"sticky top-8 space-y-6",children:[(0,t.jsxs)("div",{className:"glass-panel p-8 rounded-3xl border-accent/20 shadow-[0_20px_50px_rgba(212,175,55,0.1)] relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-accent/10 rounded-full blur-3xl"}),(0,t.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,t.jsx)(o.CreditCard,{className:"w-5 h-5 text-accent"}),"Payment Summary"]}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{className:"space-y-2 p-4 bg-white/5 rounded-2xl border border-white/10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-[10px] text-muted-foreground uppercase tracking-widest font-bold",children:[(0,t.jsx)("span",{children:"Full Year Tuition"}),(0,t.jsxs)("span",{children:["â‚¹",F.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-[10px] text-green-400 uppercase tracking-widest font-bold",children:[(0,t.jsx)("span",{children:"Scholarship Applied"}),(0,t.jsxs)("span",{children:["- â‚¹",$.toLocaleString()]})]}),(0,t.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs font-bold text-accent",children:[(0,t.jsx)("span",{children:"TOTAL PENDING FEE"}),(0,t.jsxs)("span",{className:"text-sm",children:["â‚¹",z.toLocaleString()]})]})]}),(0,t.jsx)("div",{className:"h-px bg-white/5 w-full"}),(0,t.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-[0.2em] font-bold",children:B>0?"Amount to Pay Now":"Select items to pay"}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("span",{className:"text-xl font-medium text-accent",children:"â‚¹"}),(0,t.jsx)("p",{className:"text-5xl font-bold font-display drop-shadow-2xl text-white",children:Math.max(0,B).toLocaleString()})]})]})]}),(0,t.jsx)(c.Button,{onClick:()=>{let e=Array.from(I).some(e=>{let t=N?.items?.find(t=>t.id===e);return t&&t.amount>0&&(Number(P[e])||0)>0});if(B<=0&&e)return void alert("This selection is fully covered by your scholarship/benefits. No payment is required.");if(B<=0)return void alert("Please select at least one item and enter a valid amount.");if(!y?.keyId)return void alert("Payment gateway not configured. Please contact admin.");let t={key:y.keyId,amount:Math.round(100*B),currency:"INR",name:"Spoorthy Concept School",description:`Fee Payment - ${j?.studentName}`,handler:function(e){console.log(e),alert(`Payment Successful! (Demo Mode)
Payment ID: ${e.razorpay_payment_id}
Amount: â‚¹${B}`)},prefill:{name:j?.studentName,email:f?.email,contact:j?.parentMobile},theme:{color:"#d4af37"}};new window.Razorpay(t).open()},className:"w-full h-16 bg-accent text-accent-foreground hover:bg-accent/90 rounded-2xl font-black text-xl shadow-[0_10px_30px_rgba(212,175,55,0.3)] group transition-all transform hover:-translate-y-1",disabled:0===B||g,children:g?(0,t.jsx)("span",{className:"animate-pulse",children:"PROCESSING..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.CreditCard,{className:"mr-2 group-hover:scale-125 transition-transform"}),"PROCEED TO PAY"]})}),(0,t.jsx)("p",{className:"text-[9px] text-center text-muted-foreground mt-4 font-bold tracking-widest uppercase opacity-50",children:"ðŸ”’ Secure Payment powered by Razorpay"})]}),(0,t.jsxs)("div",{className:"glass-panel p-6 rounded-3xl border-white/5 space-y-4",children:[(0,t.jsx)("h3",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:"Ledger Status"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Overall Status"}),"paid"===C?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-500 font-bold bg-green-500/10 px-4 py-2 rounded-xl text-xs",children:[(0,t.jsx)(l.CheckCircle,{className:"w-4 h-4"})," CLEAR"]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 text-yellow-500 font-bold bg-yellow-500/10 px-4 py-2 rounded-xl text-xs",children:[(0,t.jsx)(i.Clock,{className:"w-4 h-4"})," PENDING"]})]})]})]})})]})]})}e.s(["default",()=>f])}]);