module.exports=[41675,67937,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b],67937),a.s(["Calendar",()=>b],41675)},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-2xl border border-[#64FFDA]/10 bg-[#112240]/40 backdrop-blur-lg text-white shadow-xl transition-all duration-300 hover:bg-[#112240]/60 hover:border-[#64FFDA]/30 hover:shadow-[0_0_20px_-5px_rgba(100,255,218,0.1)] group",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-bold text-xl tracking-tight text-white group-hover:text-accent transition-colors",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-white/60 font-medium",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},5784,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-12 w-full rounded-full border border-white/10 bg-[#282828] px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-inner hover:bg-[#333]",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("label",{ref:e,className:(0,d.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...c}));e.displayName="Label",a.s(["Label",()=>e])},14574,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(33508),f=a.i(68114);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},6015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},89402,40737,a=>{"use strict";var b=a.i(87924),c=a.i(6015),d=a.i(68114),e=a.i(99570);let f=(0,a.i(70106).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>f],40737);var g=a.i(35732);function h({data:a,columns:h,isLoading:i,onRowClick:j,actions:k}){return i?(0,b.jsx)("div",{className:"w-full h-48 flex items-center justify-center bg-white/5 rounded-xl animate-pulse",children:(0,b.jsx)("div",{className:"h-4 w-4 bg-accent/50 rounded-full animate-ping"})}):(0,b.jsxs)("div",{className:"w-full space-y-3",children:[(0,b.jsx)("div",{className:"overflow-x-auto rounded-xl md:rounded-2xl border border-white/10 bg-black/20 backdrop-blur-md custom-scrollbar",children:(0,b.jsxs)(c.Table,{className:"w-full",children:[(0,b.jsx)(c.TableHeader,{className:"bg-white/5",children:(0,b.jsxs)(c.TableRow,{className:"border-white/10 hover:bg-transparent",children:[h.map(a=>(0,b.jsx)(c.TableHead,{className:(0,d.cn)("text-muted-foreground font-black uppercase text-[7px] md:text-[10px] tracking-widest h-8 md:h-12 whitespace-nowrap px-2 md:px-6 italic",a.headerClassName),children:a.header},a.key)),k&&(0,b.jsx)(c.TableHead,{className:"w-[30px] md:w-[50px] whitespace-nowrap px-2 md:px-6"})]})}),(0,b.jsx)(c.TableBody,{children:0===a.length?(0,b.jsx)(c.TableRow,{children:(0,b.jsx)(c.TableCell,{colSpan:h.length+ +!!k,className:"h-24 md:h-32 text-center text-muted-foreground border-white/10 whitespace-nowrap text-[10px] md:text-sm italic",children:"No results found."})}):a.map((a,i)=>(0,b.jsxs)(c.TableRow,{className:(0,d.cn)("border-white/5 transition-all duration-300 hover:bg-[#64FFDA]/5 group cursor-default",j&&"cursor-pointer"),onClick:()=>j?.(a),children:[h.map(e=>(0,b.jsx)(c.TableCell,{className:(0,d.cn)("py-2 md:py-4 px-2 md:px-6 font-medium whitespace-nowrap text-[10px] md:text-sm",e.cellClassName),children:(0,b.jsx)("div",{className:"flex flex-col",children:e.render?e.render(a,i):(0,b.jsx)("span",{className:"text-white group-hover:text-accent transition-colors",children:a[e.key]})})},`${a.id}-${e.key}`)),k&&(0,b.jsx)(c.TableCell,{className:"px-2 md:px-6",children:(0,b.jsxs)(g.DropdownMenu,{children:[(0,b.jsx)(g.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",className:"h-7 w-7 md:h-8 md:w-8 p-0 hover:bg-white/10 text-muted-foreground hover:text-white",children:[(0,b.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,b.jsx)(f,{className:"h-3 w-3 md:h-4 md:w-4"})]})}),(0,b.jsxs)(g.DropdownMenuContent,{align:"end",className:"bg-[#0A192F] border-white/10 backdrop-blur-xl rounded-xl",children:[(0,b.jsx)(g.DropdownMenuLabel,{className:"text-[10px] uppercase font-black tracking-widest text-muted-foreground/60 p-3 italic",children:"Operations"}),(0,b.jsx)(g.DropdownMenuSeparator,{className:"bg-white/5"}),(0,b.jsx)("div",{className:"p-1",children:k(a)})]})]})})]},a.id||i))})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 md:py-4 px-3 md:px-6 bg-white/5 border border-white/10 rounded-xl md:rounded-2xl",children:[(0,b.jsxs)("div",{className:"text-[8px] md:text-xs font-black uppercase tracking-widest text-muted-foreground italic",children:["Scope: ",(0,b.jsxs)("span",{className:"text-white ml-1",children:[a.length," items"]})]}),(0,b.jsxs)("div",{className:"flex gap-1 md:gap-2",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",disabled:!0,className:"h-6 md:h-8 px-2 md:px-4 text-[8px] md:text-[10px] font-black uppercase tracking-widest border border-white/10 opacity-50",children:"Prev"}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",disabled:!0,className:"h-6 md:h-8 px-2 md:px-4 text-[8px] md:text-[10px] font-black uppercase tracking-widest border border-white/10 opacity-50",children:"Next"})]})]})]})}a.s(["DataTable",()=>h],89402)},75083,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(50104),f=a.i(24050),g=a.i(77192),h=a.i(30553),i=a.i(7827),j=a.i(25152),k=a.i(92843),l="Tabs",[m,n]=(0,e.createContextScope)(l,[f.createRovingFocusGroupScope]),o=(0,f.createRovingFocusGroupScope)(),[p,q]=m(l),r=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:m="horizontal",dir:n,activationMode:o="automatic",...q}=a,r=(0,i.useDirection)(n),[s,t]=(0,j.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:l});return(0,b.jsx)(p,{scope:d,baseId:(0,k.useId)(),value:s,onValueChange:t,orientation:m,dir:r,activationMode:o,children:(0,b.jsx)(h.Primitive.div,{dir:r,"data-orientation":m,...q,ref:c})})});r.displayName=l;var s="TabsList",t=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...g}=a,i=q(s,d),j=o(d);return(0,b.jsx)(f.Root,{asChild:!0,...j,orientation:i.orientation,dir:i.dir,loop:e,children:(0,b.jsx)(h.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...g,ref:c})})});t.displayName=s;var u="TabsTrigger",v=c.forwardRef((a,c)=>{let{__scopeTabs:e,value:g,disabled:i=!1,...j}=a,k=q(u,e),l=o(e),m=y(k.baseId,g),n=z(k.baseId,g),p=g===k.value;return(0,b.jsx)(f.Item,{asChild:!0,...l,focusable:!i,active:p,children:(0,b.jsx)(h.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":n,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...j,ref:c,onMouseDown:(0,d.composeEventHandlers)(a.onMouseDown,a=>{i||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(g)}),onKeyDown:(0,d.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(g)}),onFocus:(0,d.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;p||i||!a||k.onValueChange(g)})})})});v.displayName=u;var w="TabsContent",x=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:i,children:j,...k}=a,l=q(w,e),m=y(l.baseId,f),n=z(l.baseId,f),o=f===l.value,p=c.useRef(o);return c.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(g.Presence,{present:i||o,children:({present:c})=>(0,b.jsx)(h.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!c,id:n,tabIndex:0,...k,ref:d,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&j})})});function y(a,b){return`${a}-trigger-${b}`}function z(a,b){return`${a}-content-${b}`}x.displayName=w;var A=a.i(68114);let B=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(t,{ref:d,className:(0,A.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...c}));B.displayName=t.displayName;let C=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(v,{ref:d,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...c}));C.displayName=v.displayName;let D=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(x,{ref:d,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...c}));D.displayName=x.displayName,a.s(["Tabs",()=>r,"TabsContent",()=>D,"TabsList",()=>B,"TabsTrigger",()=>C],75083)},84141,a=>{"use strict";function b(a){if(!a)return"";let b="string"==typeof a?new Date(a):a;if(isNaN(b.getTime()))return a;let c=String(b.getDate()).padStart(2,"0"),d=String(b.getMonth()+1).padStart(2,"0"),e=b.getFullYear();return`${c}/${d}/${e}`}a.s(["formatDateToDDMMYYYY",()=>b])},42900,a=>{"use strict";let b=(0,a.i(70106).default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);a.s(["Archive",()=>b],42900)},24348,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(187),e=a.i(68114);let f=(0,d.cva)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c}));h.displayName="AlertTitle";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));i.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>i,"AlertTitle",()=>h])},62244,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(99570),f=a.i(66718),g=a.i(70430),h=a.i(24348),i=a.i(73570),j=a.i(43108),k=a.i(81560),l=a.i(42900),m=a.i(96221),n=a.i(68114),o=a.i(88110);function p({isOpen:a,onClose:p,user:r,checkEligibility:s,onDeactivate:t,onDelete:u}){let[v,w]=(0,c.useState)("deactivate"),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)("");(0,c.useEffect)(()=>{a&&(w("deactivate"),C(""),E(""),A(null),s().then(A))},[a,s]);let F="DELETE",G=B===F,H=async()=>{if("delete"!==v||G){y(!0);try{"deactivate"===v?(await t(D||"Admin request"),(0,o.toast)({title:"User Deactivated",description:`${r.name} has been deactivated.`,type:"success"})):(await u(D||"Admin request"),(0,o.toast)({title:"User Deleted",description:`${r.name} has been permanently deleted.`,type:"success"})),p()}catch(a){console.error(a),(0,o.toast)({title:"Action Failed",description:a.message||"Something went wrong. Please try again.",type:"error"})}finally{y(!1)}}};return(0,b.jsx)(d.Dialog,{open:a,onOpenChange:p,children:(0,b.jsxs)(d.DialogContent,{className:"sm:max-w-md bg-black/95 border-white/10 text-white backdrop-blur-xl",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsx)(d.DialogTitle,{className:"text-xl font-bold flex items-center gap-2",children:"delete"===v?(0,b.jsxs)("span",{className:"text-red-500 flex items-center gap-2",children:[(0,b.jsx)(k.Trash2,{className:"w-5 h-5"})," Permanent Delete"]}):(0,b.jsxs)("span",{className:"text-yellow-500 flex items-center gap-2",children:[(0,b.jsx)(l.Archive,{className:"w-5 h-5"})," Deactivate User"]})}),(0,b.jsxs)(d.DialogDescription,{className:"text-zinc-400",children:["Managing access for ",(0,b.jsx)("span",{className:"text-white font-medium",children:r.name})," (",r.schoolId,")"]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4 py-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 bg-white/5 p-1 rounded-lg",children:[(0,b.jsxs)("button",{onClick:()=>w("deactivate"),className:(0,n.cn)("flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-md transition-all","deactivate"===v?"bg-yellow-500/20 text-yellow-500":"text-zinc-500 hover:text-zinc-300"),children:[(0,b.jsx)(l.Archive,{className:"w-4 h-4"})," Deactivate"]}),(0,b.jsxs)("button",{onClick:()=>w("delete"),disabled:!z?.canDelete&&!r.isDemo,className:(0,n.cn)("flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-md transition-all","delete"===v?"bg-red-500/20 text-red-500":z?.canDelete||r.isDemo?"text-zinc-500 hover:text-zinc-300":"opacity-50 cursor-not-allowed text-zinc-600"),children:[!z?.canDelete&&!r.isDemo&&(0,b.jsx)(j.Lock,{className:"w-3 h-3"})," ",(0,b.jsx)(k.Trash2,{className:"w-4 h-4"})," Hard Delete"]})]}),"deactivate"===v&&(0,b.jsxs)("div",{className:"space-y-4 animate-in fade-in zoom-in-95 duration-200",children:[(0,b.jsxs)(h.Alert,{className:"bg-yellow-500/10 border-yellow-500/20",children:[(0,b.jsx)(i.AlertTriangle,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsx)(h.AlertTitle,{className:"text-yellow-500",children:"Recommended Action"}),(0,b.jsx)(h.AlertDescription,{className:"text-yellow-500/80 text-xs",children:"Deactivation immediately revokes login access but preserves historical records (payments, grades, etc.). This is reversible."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{className:"text-xs uppercase text-zinc-500",children:"Reason (Optional)"}),(0,b.jsx)(f.Input,{className:"bg-black/40 border-white/10",placeholder:"e.g. Graduated, Left School",value:D,onChange:a=>E(a.target.value)})]})]}),"delete"===v&&(0,b.jsx)("div",{className:"space-y-4 animate-in fade-in zoom-in-95 duration-200",children:z?.canDelete||r.isDemo?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Alert,{className:"bg-red-500/10 border-red-500/20",children:[(0,b.jsx)(q,{}),(0,b.jsx)(h.AlertTitle,{className:"text-red-500 font-bold",children:"ACCOUNT DELETION (ARCHIVE)"}),(0,b.jsxs)(h.AlertDescription,{className:"text-red-500/80 text-xs mt-1",children:["This action will deactivate the user account and mark it as ",(0,b.jsx)("strong",{children:"DELETED"}),". All data will be archived and preserved. The user will no longer be able to log in.",(0,b.jsx)("br",{className:"my-2"}),"This action can be reversed by an administrator."]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{className:"text-xs uppercase text-red-400",children:"Type Confirmation"}),(0,b.jsx)("div",{className:"bg-black/40 p-2 rounded border border-red-500/20 text-center font-mono text-xs select-all text-red-300",children:F}),(0,b.jsx)(f.Input,{className:"bg-black/40 border-red-500/30 text-red-500 focus-visible:ring-red-500",placeholder:F,value:B,onChange:a=>C(a.target.value),onPaste:a=>a.preventDefault()})]})]}):(0,b.jsxs)(h.Alert,{className:"bg-red-900/20 border-red-500/20",children:[(0,b.jsx)(j.Lock,{className:"h-4 w-4 text-red-500"}),(0,b.jsx)(h.AlertTitle,{className:"text-red-500",children:"Deletion Blocked"}),(0,b.jsx)(h.AlertDescription,{className:"text-red-400/80 text-xs mt-1",children:z?.reason||"This user has linked records and cannot be hard deleted."})]})})]}),(0,b.jsxs)(d.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(e.Button,{variant:"ghost",onClick:p,disabled:x,children:"Cancel"}),(0,b.jsxs)(e.Button,{disabled:x||"delete"===v&&!G,className:(0,n.cn)("delete"===v?"bg-red-600 hover:bg-red-700 text-white":"bg-yellow-600 hover:bg-yellow-700 text-white"),onClick:H,children:[x&&(0,b.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"delete"===v?"Delete Permanently":"Confirm Deactivation"]})]})]})})}function q(){return(0,b.jsx)(i.AlertTriangle,{className:"h-4 w-4 text-red-500"})}a.s(["DeleteUserModal",()=>p])},81402,a=>{"use strict";let b=(0,a.i(70106).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);a.s(["Key",()=>b],81402)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},9450,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(99570),f=a.i(66718),g=a.i(70430),h=a.i(96221),i=a.i(43108),j=a.i(73570),k=a.i(56025),l=a.i(88110);function m({isOpen:a,onClose:m,user:n,onSuccess:o}){let{user:p}=(0,k.useAuth)(),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1);if(!n)return null;let u=async a=>{if(a.preventDefault(),!n.uid)return void(0,l.toast)({title:"Error",description:"User has no linked account.",type:"error"});t(!0);try{let a=await fetch("/api/admin/users/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await p?.getIdToken()}`},body:JSON.stringify({targetUid:n.uid,schoolId:n.schoolId,role:n.role,newPassword:q})}),b=await a.json();b.success?((0,l.toast)({title:"Password Changed",description:`Proactively updated password for ${n.name}.`,type:"success"}),r(""),o&&o(),m()):(0,l.toast)({title:"Reset Failed",description:b.error||"Could not change password.",type:"error"})}catch(a){(0,l.toast)({title:"Error",description:a.message||"An unexpected error occurred.",type:"error"})}finally{t(!1)}};return(0,b.jsx)(d.Dialog,{open:a,onOpenChange:m,children:(0,b.jsxs)(d.DialogContent,{className:"bg-zinc-950 border-white/10 text-white sm:max-w-[425px]",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsxs)(d.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Lock,{className:"w-5 h-5 text-amber-500"}),"Reset Password"]}),(0,b.jsxs)(d.DialogDescription,{children:["Set a new password for ",(0,b.jsx)("span",{className:"font-bold text-white",children:n.name})," (",n.schoolId,")."]})]}),(0,b.jsxs)("form",{onSubmit:u,className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg text-xs text-amber-500 flex gap-2",children:[(0,b.jsx)(j.AlertTriangle,{className:"w-4 h-4 shrink-0"}),(0,b.jsx)("p",{children:"This will immediately update the user's password and log them out of all devices."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"New Password"}),(0,b.jsx)(f.Input,{value:q,onChange:a=>r(a.target.value),className:"bg-black/20",placeholder:"Enter new password",required:!0,minLength:6})]}),(0,b.jsxs)(d.DialogFooter,{children:[(0,b.jsx)(e.Button,{type:"button",variant:"ghost",onClick:m,disabled:s,children:"Cancel"}),(0,b.jsxs)(e.Button,{type:"submit",className:"bg-amber-600 hover:bg-amber-700 text-white",disabled:s,children:[s?(0,b.jsx)(h.Loader2,{className:"animate-spin w-4 h-4 mr-2"}):null,"Update Password"]})]})]})]})})}a.s(["AdminChangePasswordModal",()=>m])},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},63519,a=>{"use strict";let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],63519)},43945,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(88110),e=a.i(14574),f=a.i(99570),g=a.i(66718),h=a.i(70430),i=a.i(96221),j=a.i(90166),k=a.i(24669);let l=(0,a.i(70106).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var m=a.i(20237),n=a.i(56025);function o({isOpen:o,onClose:p,person:q,onSuccess:r}){let[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),{user:y}=(0,n.useAuth)();(0,c.useEffect)(()=>{o&&q&&(t(q.currentSalary.toString()),"STAFF"===q.role&&q.roleCode?z(q.roleCode):x(null))},[o,q]);let z=async b=>{try{let{getDocs:c,query:d,collection:e,where:f}=await a.A(28162),g=d(e(m.db,"master_staff_roles"),f("code","==",b)),h=await c(g);if(!h.empty){let a=h.docs[0].data();x(a.basicSalary||0)}}catch(a){console.error(a),(0,d.toast)({title:"Error fetching role data",description:"Could not fetch role salary details.",type:"error"})}},A=async()=>{if(q&&s){v(!0);try{if(!y)throw Error("Not authenticated");let a=await y.getIdToken(),b=await fetch("/api/admin/payroll/adjust-salary",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({personId:q.id,role:q.role,amount:Number(s),roleCode:q.roleCode})}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to adjust salary");(0,d.toast)({title:"Salary Adjusted",description:`Successfully updated salary for ${q.name}`,type:"success"}),r(),p()}catch(a){(0,d.toast)({title:"Adjustment Failed",description:a.message||"An error occurred while updating salary.",type:"error"})}finally{v(!1)}}};if(!q)return null;let B=q.currentSalary,C=Number(s)||0,D=C-B;return(0,b.jsx)(e.Dialog,{open:o,onOpenChange:p,children:(0,b.jsxs)(e.DialogContent,{className:"bg-black/95 border-white/10 text-white sm:max-w-[400px] w-[95vw] rounded-2xl",children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{className:"text-xl font-display italic",children:"Adjust Salary"})}),(0,b.jsxs)("div",{className:"space-y-4 md:space-y-6 py-2 md:py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,b.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-accent/20 flex items-center justify-center text-accent font-black text-sm md:text-base",children:q.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-sm md:text-base",children:q.name}),(0,b.jsxs)("div",{className:"text-[10px] text-muted-foreground font-mono uppercase tracking-tighter opacity-70",children:[q.schoolId," • ",q.role]})]})]}),null!==w&&(0,b.jsxs)("div",{className:"px-3 py-1.5 rounded-lg bg-blue-500/5 border border-blue-500/10 flex justify-between items-center text-[10px]",children:[(0,b.jsx)("span",{className:"text-blue-400 font-black tracking-widest uppercase",children:"Role Baseline"}),(0,b.jsxs)("span",{className:"font-mono font-bold text-blue-300",children:["₹",w.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"space-y-1.5 md:space-y-2",children:[(0,b.jsx)(h.Label,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Monthly Base Salary (₹)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{type:"number",value:s,onChange:a=>t(a.target.value),className:"pl-9 bg-white/5 border-white/10 h-10 md:h-12 text-sm md:text-lg font-mono focus:ring-accent/30 rounded-xl",placeholder:"Enter Amount"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[(0,b.jsxs)("div",{className:"p-2.5 md:p-3 rounded-xl bg-white/5 border border-white/10 text-center md:text-left",children:[(0,b.jsx)("div",{className:"text-[8px] md:text-[10px] uppercase font-black tracking-widest text-muted-foreground mb-0.5 md:mb-1",children:"Current"}),(0,b.jsxs)("div",{className:"text-sm md:text-lg font-mono font-bold",children:["₹",B?.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"p-2.5 md:p-3 rounded-xl bg-white/5 border border-white/10 text-center md:text-left",children:[(0,b.jsx)("div",{className:"text-[8px] md:text-[10px] uppercase font-black tracking-widest text-muted-foreground mb-0.5 md:mb-1",children:"Proposed"}),(0,b.jsxs)("div",{className:"text-sm md:text-lg font-mono font-bold",children:["₹",C?.toLocaleString()]})]})]}),0!==D&&(0,b.jsxs)("div",{className:`p-3 md:p-4 rounded-xl flex items-center justify-between ${D>0?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 font-black uppercase text-[10px] tracking-widest",children:[D>0?(0,b.jsx)(k.TrendingUp,{className:"w-4 h-4"}):(0,b.jsx)(l,{className:"w-4 h-4"}),D>0?"Increase":"Decrease"]}),(0,b.jsxs)("div",{className:"text-base md:text-xl font-mono font-bold",children:[D>0?"+":""," ₹",Math.abs(D).toLocaleString()]})]})]}),(0,b.jsx)(e.DialogFooter,{children:(0,b.jsx)(f.Button,{onClick:A,disabled:u||C===B||C<0,className:"w-full bg-white text-black hover:bg-zinc-200 h-10 md:h-12 rounded-xl font-black uppercase tracking-tighter text-xs md:text-sm shadow-lg shadow-white/5",children:u?(0,b.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}):"Confirm Adjustment"})})]})})}a.s(["AdjustSalaryModal",()=>o],43945)},44194,a=>{"use strict";let b=(0,a.i(70106).default)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);a.s(["Coffee",()=>b],44194)},41961,a=>{"use strict";let b=(0,a.i(70106).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);a.s(["Briefcase",()=>b],41961)},28162,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_firebase_firestore_dist_index_mjs_28afd039._.js"].map(b=>a.l(b))).then(()=>b(86315)))}];

//# sourceMappingURL=_f3d2e065._.js.map