module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},11011,70121,a=>{"use strict";var b=a.i(72131);function c(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function d(...a){return b=>{let d=!1,e=a.map(a=>{let e=c(a,b);return d||"function"!=typeof e||(d=!0),e});if(d)return()=>{for(let b=0;b<e.length;b++){let d=e[b];"function"==typeof d?d():c(a[b],null)}}}}function e(...a){return b.useCallback(d(...a),a)}a.s(["composeRefs",()=>d,"useComposedRefs",()=>e],70121);var f=a.i(87924);function g(a){var c;let e,g=(c=a,(e=b.forwardRef((a,c)=>{let{children:e,...f}=a;if(b.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==b.Fragment&&(j.ref=c?d(c,i):i),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${c}.SlotClone`,e),h=b.forwardRef((a,c)=>{let{children:d,...e}=a,h=b.Children.toArray(d),i=h.find(j);if(i){let a=i.props.children,d=h.map(c=>c!==i?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,f.jsx)(g,{...e,ref:c,children:b.isValidElement(a)?b.cloneElement(a,void 0,d):null})}return(0,f.jsx)(g,{...e,ref:c,children:d})});return h.displayName=`${a}.Slot`,h}var h=g("Slot"),i=Symbol("radix.slottable");function j(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===i}a.s(["Slot",()=>h,"createSlot",()=>g],11011)},99570,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(68114);let f=c.forwardRef(({className:a,variant:c="default",size:f="default",asChild:g=!1,...h},i)=>{let j=g?d.Slot:"button";return(0,b.jsx)(j,{className:(0,e.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 tracking-wide",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:scale-105 active:scale-95 transition-transform":"default"===c,"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm":"destructive"===c,"border border-white/20 bg-transparent hover:bg-white/10 hover:text-accent-foreground":"outline"===c,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===c,"hover:bg-white/10 hover:text-accent font-normal":"ghost"===c,"text-primary underline-offset-4 hover:underline":"link"===c,"bg-gradient-to-r from-accent to-accent/80 text-black font-bold hover:brightness-110 border-0 shadow-lg hover:shadow-accent/20":"gradient"===c,"bg-accent text-black font-bold hover:bg-accent/90 hover:scale-105 active:scale-95 transition-transform shadow-lg":"spotify"===c,"h-10 px-6 py-2":"default"===f,"h-9 px-4 text-xs":"sm"===f,"h-12 px-8 text-base":"lg"===f,"h-14 px-10 text-lg":"xl"===f,"h-10 w-10":"icon"===f},a),ref:i,...h})});f.displayName="Button",a.s(["Button",()=>f])},66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-12 w-full rounded-full border border-white/10 bg-[#282828] px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-inner hover:bg-[#333]",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("label",{ref:e,className:(0,d.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...c}));e.displayName="Label",a.s(["Label",()=>e])},43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},69769,a=>{"use strict";let b=(0,a.i(70106).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);a.s(["GraduationCap",()=>b],69769)},24866,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(30485);var d=a.i(31052),e=a.i(20237),f=a.i(50944),g=a.i(99570),h=a.i(66718),i=a.i(70430),j=a.i(96221),k=a.i(43108),l=a.i(69769);a.i(69387);var m=a.i(60574),n=a.i(88110);function o(){let a=(0,f.useRouter)(),[o,p]=(0,c.useState)({schoolId:"",password:""}),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),u=async b=>{b.preventDefault(),r(!0),t("");try{let b=`${o.schoolId.toUpperCase()}@school.local`,c=(await (0,d.signInWithEmailAndPassword)(e.auth,b,o.password)).user,f=(0,m.doc)(e.db,"teachers",o.schoolId.toUpperCase()),g=await (0,m.getDoc)(f);if(!g.exists())throw Error("Teacher record not found.");let h=g.data();if("ACTIVE"!==h.status)throw Error("Account is inactive. Contact Admin.");let i=(0,m.doc)(e.db,"users",c.uid),j=await (0,m.getDoc)(i);if(j.exists()&&j.data().mustChangePassword)return void a.push("/auth/force-password-change");(0,n.toast)({title:"Welcome Back",description:`Logged in as ${h.name}`,type:"success"}),a.push("/teacher/dashboard")}catch(a){console.error("Login Error:",a),(0,n.toast)({title:"Login Failed",description:a.message||"Please check your ID and Password",type:"error"}),"auth/invalid-credential"===a.code||"auth/user-not-found"===a.code?t("Invalid ID or Password"):t(a.message||"Login Failed")}finally{r(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-4 ring-1 ring-blue-500/20",children:(0,b.jsx)(l.GraduationCap,{className:"w-8 h-8 text-blue-500"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-display",children:"Teacher Portal"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Enter your School ID to continue"})]}),(0,b.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-xl",children:(0,b.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"schoolId",children:"Teacher ID"}),(0,b.jsx)(h.Input,{id:"schoolId",placeholder:"e.g. SHST0001",className:"bg-black/20 border-white/10 h-11 font-mono uppercase tracking-wider placeholder:normal-case placeholder:font-sans placeholder:tracking-normal",value:o.schoolId,onChange:a=>p({...o,schoolId:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"password",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Input,{id:"password",type:"password",placeholder:"••••••••",className:"bg-black/20 border-white/10 h-11 pr-10",value:o.password,onChange:a=>p({...o,password:a.target.value}),required:!0}),(0,b.jsx)(k.Lock,{className:"absolute right-3 top-3 h-5 w-5 text-muted-foreground"})]})]}),s&&(0,b.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm text-center font-medium",children:s}),(0,b.jsx)(g.Button,{type:"submit",className:"w-full h-11 bg-blue-600 hover:bg-blue-700 text-white font-bold",disabled:q,children:q?(0,b.jsx)(j.Loader2,{className:"w-4 h-4 animate-spin"}):"Sign In"})]})}),(0,b.jsx)("p",{className:"text-center text-xs text-muted-foreground uppercase tracking-widest opacity-50",children:"Spoorthy Concept School • Faculty"})]})})}a.s(["default",()=>o])}];

//# sourceMappingURL=_f39a3367._.js.map