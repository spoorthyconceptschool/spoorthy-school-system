module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-2xl border border-[#64FFDA]/10 bg-[#112240]/40 backdrop-blur-lg text-white shadow-xl transition-all duration-300 hover:bg-[#112240]/60 hover:border-[#64FFDA]/30 hover:shadow-[0_0_20px_-5px_rgba(100,255,218,0.1)] group",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-bold text-xl tracking-tight text-white group-hover:text-accent transition-colors",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-white/60 font-medium",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},91965,a=>{"use strict";let b=(0,a.i(70106).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);a.s(["History",()=>b],91965)},22520,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);a.s(["ArrowUpRight",()=>b],22520)},4761,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(91119),f=a.i(96221),g=a.i(53259),h=a.i(66384),i=a.i(73570);let j=(0,a.i(70106).default)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);var k=a.i(67453),l=a.i(91965),m=a.i(60246),n=a.i(210),o=a.i(22520),p=a.i(20237),q=a.i(88110),r=a.i(68114),s=a.i(38246);function t(){let[a,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(null),y=(a,b="info")=>{v(c=>[{msg:a,type:b},...c].slice(0,50))},z=async a=>{t(!0),x(null),y(`Initiating ${a} purge request...`,"warn");try{let b=await p.auth.currentUser?.getIdToken(),c=await fetch("/api/admin/purge-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b} `},body:JSON.stringify({type:a})}),d=await c.json();if(d.success)y(d.message,"success"),(0,q.toast)({title:"Purge Initiated",description:"The system is being wiped in the background.",type:"success"}),setTimeout(()=>y("Process backgrounded. Check server logs for full completion.","info"),2e3);else throw Error(d.error||"Failed to initiate purge")}catch(a){y(`ERROR: ${a.message} `,"err"),(0,q.toast)({title:"Operation Failed",description:a.message,type:"error"})}finally{t(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-[#050505] text-zinc-400 p-8 space-y-8 animate-in fade-in duration-700",children:[(0,b.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsx)(s.default,{href:"/admin/settings",children:(0,b.jsxs)(d.Button,{variant:"ghost",className:"text-zinc-500 hover:text-white hover:bg-white/5 gap-2 px-0",children:[(0,b.jsx)(n.ArrowLeft,{size:16})," Back to Settings"]})})}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(s.default,{href:"/admin",children:(0,b.jsxs)(d.Button,{variant:"outline",className:"text-zinc-400 border-white/5 hover:bg-white/5 gap-2",children:["Dashboard ",(0,b.jsx)(o.ArrowUpRight,{size:14})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-red-500/10 border border-red-500/20 rounded-full text-red-500 text-[10px] font-bold tracking-tighter animate-pulse",children:[(0,b.jsx)(h.ShieldAlert,{size:12})," RESTRICTED ACCESS"]})]})]}),(0,b.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"text-4xl font-display font-bold text-white tracking-tight",children:"System Purge Control"}),(0,b.jsx)("p",{className:"text-zinc-500 max-w-xl",children:"Sensitive administrative tools for database resetting and system-wide data clearing. Use with extreme caution."})]})}),(0,b.jsxs)("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 mt-12",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(e.Card,{className:"bg-zinc-900/50 border-white/5 backdrop-blur-xl group hover:border-emerald-500/30 transition-all duration-500",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-500/10 rounded-xl text-emerald-400",children:(0,b.jsx)(g.Database,{size:24})}),(0,b.jsx)("div",{className:"text-[10px] font-mono p-1 px-2 bg-emerald-500/10 text-emerald-500 rounded border border-emerald-500/20",children:"DATA RESET"})]}),(0,b.jsx)(e.CardTitle,{className:"text-xl text-white mt-4",children:"Operational Data Purge"}),(0,b.jsxs)(e.CardDescription,{children:["Deletes all operational records (fees, attendance, notices, schedules) but",(0,b.jsx)("b",{children:" preserves all users, students, and staff accounts."})]})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("ul",{className:"text-xs space-y-2 text-zinc-500",children:[(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)(k.CheckCircle2,{size:12,className:"text-emerald-500 shrink-0"})," Wipes Fees, Attendance & Exams"]}),(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)(k.CheckCircle2,{size:12,className:"text-emerald-500 shrink-0"})," Wipes Notices & Timetables"]}),(0,b.jsxs)("li",{className:"flex gap-2 text-emerald-400 font-medium italic",children:[(0,b.jsx)(m.Users,{size:12,className:"text-emerald-400 shrink-0"})," Retains Students/Teachers/Staff Details"]}),(0,b.jsxs)("li",{className:"flex gap-2 text-white/50 italic font-medium",children:[(0,b.jsx)(l.History,{size:12,className:"text-amber-500 shrink-0"})," Retains All Login Credentials"]})]}),"OPERATIONAL_ONLY"===w?(0,b.jsxs)("div",{className:"flex gap-2 pt-4 animate-in slide-in-from-bottom-2",children:[(0,b.jsx)(d.Button,{onClick:()=>z("OPERATIONAL_ONLY"),disabled:a,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-bold",children:"CONFIRM RESET"}),(0,b.jsx)(d.Button,{variant:"ghost",onClick:()=>x(null),className:"text-zinc-500",children:"Cancel"})]}):(0,b.jsx)(d.Button,{onClick:()=>x("OPERATIONAL_ONLY"),disabled:a,className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white border border-white/5",children:"Operational Data Reset"})]})]}),(0,b.jsxs)(e.Card,{className:"bg-zinc-900/50 border-white/5 backdrop-blur-xl group hover:border-red-500/30 transition-all duration-500 shadow-2xl shadow-red-500/5",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("div",{className:"p-3 bg-red-500/10 rounded-xl text-red-400",children:(0,b.jsx)(i.AlertTriangle,{size:24})}),(0,b.jsx)("div",{className:"text-[10px] font-mono p-1 px-2 bg-red-500/10 text-red-500 rounded border border-red-500/20",children:"☢️ DESTRUCTIVE"})]}),(0,b.jsx)(e.CardTitle,{className:"text-xl text-white mt-4",children:"Full System Nuke"}),(0,b.jsx)(e.CardDescription,{children:"Total destruction. Wipes all database records AND deletes all user accounts except for the Master Admin account."})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("ul",{className:"text-xs space-y-2 text-zinc-500",children:[(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)(k.CheckCircle2,{size:12,className:"text-red-500 shrink-0"})," Deletes all student/staff data"]}),(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)(k.CheckCircle2,{size:12,className:"text-red-500 shrink-0"})," Deletes all login credentials"]}),(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)(k.CheckCircle2,{size:12,className:"text-red-500 shrink-0"})," Clears Firestore, RTDB, and Storage"]}),(0,b.jsxs)("li",{className:"flex gap-2 text-emerald-500 font-bold italic",children:[(0,b.jsx)(k.CheckCircle2,{size:12,className:"text-emerald-500 shrink-0"})," PRESERVES LANDING PAGE & CMS IMAGES"]})]}),"FULL_SYSTEM"===w?(0,b.jsxs)("div",{className:"flex flex-col gap-2 pt-4 animate-in zoom-in-95",children:[(0,b.jsx)("p",{className:"text-[10px] text-red-500 font-bold text-center mb-2 uppercase tracking-widest",children:"DANGER: THIS CANNOT BE UNDONE"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{onClick:()=>z("FULL_SYSTEM"),disabled:a,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold animate-pulse",children:"NUKE EVERYTHING"}),(0,b.jsx)(d.Button,{variant:"ghost",onClick:()=>x(null),className:"text-zinc-500",children:"Abort"})]})]}):(0,b.jsx)(d.Button,{onClick:()=>x("FULL_SYSTEM"),disabled:a,className:"w-full bg-red-950/20 hover:bg-red-900/40 text-red-500 border border-red-500/20",children:"Full Factory Reset"})]})]})]}),(0,b.jsx)("div",{className:"flex flex-col h-full min-h-[500px]",children:(0,b.jsxs)("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-2xl flex flex-col h-full shadow-inner relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-white/5 bg-zinc-900/40 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono text-zinc-500",children:[(0,b.jsx)(j,{size:14})," SYSTEM_PURGE_LOG"]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500/20"}),(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500/20"}),(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500/20"})]})]}),(0,b.jsxs)("div",{className:"p-6 font-mono text-xs space-y-3 overflow-y-auto flex-1 custom-scrollbar scroll-smooth",children:[0===u.length&&(0,b.jsx)("div",{className:"text-zinc-700 italic",children:"Waiting for process initiation..."}),u.map((a,c)=>(0,b.jsxs)("div",{className:(0,r.cn)("p-2 rounded border border-transparent leading-relaxed animate-in fade-in duration-300","info"===a.type&&"text-zinc-400","warn"===a.type&&"bg-amber-500/5 text-amber-500 border-amber-500/10","success"===a.type&&"bg-emerald-500/5 text-emerald-500 border-emerald-500/10","err"===a.type&&"bg-red-500/5 text-red-500 border-red-500/10"),children:[(0,b.jsxs)("span",{className:"opacity-30 mr-2",children:["[",new Date().toLocaleTimeString(),"]"]}),a.msg]},c))]}),a&&(0,b.jsxs)("div",{className:"absolute inset-x-0 bottom-0 p-4 bg-zinc-900/80 backdrop-blur-sm border-t border-white/5 flex items-center justify-center gap-3 text-white text-sm",children:[(0,b.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin text-emerald-500"}),"Processing secure wipe..."]})]})})]})]})}a.s(["default",()=>t],4761)}];

//# sourceMappingURL=_73b304a2._.js.map