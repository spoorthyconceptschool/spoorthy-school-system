module.exports=[99570,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(68114);let f=c.forwardRef(({className:a,variant:c="default",size:f="default",asChild:g=!1,...h},i)=>{let j=g?d.Slot:"button";return(0,b.jsx)(j,{className:(0,e.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 tracking-wide",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:scale-105 active:scale-95 transition-transform":"default"===c,"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm":"destructive"===c,"border border-white/20 bg-transparent hover:bg-white/10 hover:text-accent-foreground":"outline"===c,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===c,"hover:bg-white/10 hover:text-accent font-normal":"ghost"===c,"text-primary underline-offset-4 hover:underline":"link"===c,"bg-gradient-to-r from-accent to-accent/80 text-black font-bold hover:brightness-110 border-0 shadow-lg hover:shadow-accent/20":"gradient"===c,"bg-accent text-black font-bold hover:bg-accent/90 hover:scale-105 active:scale-95 transition-transform shadow-lg":"spotify"===c,"h-10 px-6 py-2":"default"===f,"h-9 px-4 text-xs":"sm"===f,"h-12 px-8 text-base":"lg"===f,"h-14 px-10 text-lg":"xl"===f,"h-10 w-10":"icon"===f},a),ref:i,...h})});f.displayName="Button",a.s(["Button",()=>f])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-2xl border border-[#64FFDA]/10 bg-[#112240]/40 backdrop-blur-lg text-white shadow-xl transition-all duration-300 hover:bg-[#112240]/60 hover:border-[#64FFDA]/30 hover:shadow-[0_0_20px_-5px_rgba(100,255,218,0.1)] group",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-bold text-xl tracking-tight text-white group-hover:text-accent transition-colors",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-white/60 font-medium",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},72263,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56025);a.i(69387);var e=a.i(60574),f=a.i(20237),g=a.i(91119),h=a.i(99570),i=a.i(86304),j=a.i(96221),k=a.i(41675),l=a.i(4720),m=a.i(92e3),n=a.i(16201),o=a.i(43108),p=a.i(38246);function q(){let{user:a}=(0,d.useAuth)(),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)("PENDING"),[y,z]=(0,c.useState)(0);(0,c.useEffect)(()=>{a&&A()},[a]);let A=async()=>{try{if(!a?.uid)return;let b=(0,e.query)((0,e.collection)(f.db,"students"),(0,e.where)("uid","==",a.uid)),c=await (0,e.getDocs)(b);if(c.empty)return void r(!1);let d={id:c.docs[0].id,...c.docs[0].data()},g=d.schoolId||d.id;v(d);let h=(0,e.doc)(f.db,"student_fee_ledgers",`${g}_2025-2026`),i=await (0,e.getDoc)(h),j=0;i.exists()&&(j=(i.data().items||[]).reduce((a,b)=>a+(b.amount-(b.paidAmount||0)),0)),z(j),x(j<=0?"CLEARED":"PENDING");let k=(0,e.query)((0,e.collection)(f.db,"exams"),(0,e.orderBy)("createdAt","desc")),l=(await (0,e.getDocs)(k)).docs.map(a=>({id:a.id,...a.data()})),m=d.classId,n=l.filter(a=>a.timetables&&a.timetables[m]);t(n)}catch(a){console.error(a)}finally{r(!1)}};return q?(0,b.jsx)("div",{className:"flex justify-center p-20 text-[#E6F1FF]",children:(0,b.jsx)(j.Loader2,{className:"animate-spin"})}):u?(0,b.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8 pb-10",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#E6F1FF]",children:"My Examinations"}),(0,b.jsx)("p",{className:"text-[#8892B0]",children:"View schedules and download hall tickets."})]}),"PENDING"===w&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 px-4 py-2 rounded-lg flex items-center gap-2 text-red-400",children:[(0,b.jsx)(m.AlertCircle,{className:"w-5 h-5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-sm",children:"Action Required"}),(0,b.jsxs)("p",{className:"text-xs",children:["Clear dues (â‚¹",y,") to access Hall Tickets."]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.map(a=>(0,b.jsxs)(g.Card,{className:"bg-[#112240] border-[#64FFDA]/10 hover:border-[#64FFDA]/30 transition-all group",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg bg-[#3B82F6]/10 flex items-center justify-center text-[#3B82F6] group-hover:scale-110 transition-transform",children:(0,b.jsx)(l.FileText,{className:"w-6 h-6"})}),(0,b.jsx)(i.Badge,{variant:"ACTIVE"===a.status?"default":"secondary",className:"bg-[#64FFDA]/10 text-[#64FFDA] border-[#64FFDA]/20",children:a.status||"Scheduled"})]}),(0,b.jsx)(g.CardTitle,{className:"text-[#E6F1FF] mt-4 text-xl",children:a.name}),(0,b.jsxs)(g.CardDescription,{className:"text-[#8892B0] flex items-center gap-2",children:[(0,b.jsx)(k.Calendar,{className:"w-4 h-4"}),new Date(a.startDate).toLocaleDateString()," - ",new Date(a.endDate).toLocaleDateString()]})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("div",{className:"bg-[#0A192F]/50 rounded p-3 mb-4 border border-white/5",children:[(0,b.jsx)("p",{className:"text-xs text-[#8892B0] uppercase tracking-wider mb-2",children:"Timetable Overview"}),(0,b.jsxs)("div",{className:"space-y-1",children:[Object.entries(a.timetables?.[u.classId]||{}).filter(([a,b])=>b.date).slice(0,3).map(([a,c])=>(0,b.jsxs)("div",{className:"flex justify-between text-sm text-[#E6F1FF]",children:[(0,b.jsx)("span",{children:a})," ",(0,b.jsx)("span",{className:"text-[#8892B0] text-xs",children:c.date})]},a)),Object.keys(a.timetables?.[u.classId]||{}).length>3&&(0,b.jsx)("div",{className:"text-xs text-[#64FFDA] pt-1 text-center",children:"+ More subjects"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:["RESULTS_RELEASED"===a.status&&(0,b.jsx)(p.default,{href:`/student/exams/${a.id}/results`,children:(0,b.jsxs)(h.Button,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold shadow-[0_0_15px_-5px_#10B981]",children:[(0,b.jsx)(l.FileText,{className:"w-4 h-4 mr-2"})," View Results / Report Card"]})}),"CLEARED"===w?(0,b.jsx)(p.default,{href:`/student/exams/${a.id}/hall-ticket`,target:"_blank",children:(0,b.jsxs)(h.Button,{variant:"outline",className:"w-full border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:[(0,b.jsx)(n.CheckCircle,{className:"w-4 h-4 mr-2"})," Download Hall Ticket"]})}):(0,b.jsxs)(h.Button,{disabled:!0,className:"w-full bg-white/5 text-[#8892B0] border border-white/10 cursor-not-allowed",children:[(0,b.jsx)(o.Lock,{className:"w-4 h-4 mr-2"})," Hall Ticket Locked (Fees Pending)"]})]})]})]},a.id)),0===s.length&&(0,b.jsxs)("div",{className:"col-span-full py-20 text-center border border-dashed border-[#64FFDA]/10 rounded-lg text-[#8892B0]",children:["No exams scheduled for your class (",u.className,") yet."]})]})]}):(0,b.jsx)("div",{className:"p-8 text-center text-[#8892B0]",children:"Student profile not found."})}a.s(["default",()=>q])}];

//# sourceMappingURL=_9dd2f138._.js.map