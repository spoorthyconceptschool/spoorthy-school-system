{"version":3,"sources":["../../../../src/components/ui/button.tsx","../../../../src/app/student/dashboard/page.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    asChild?: boolean\r\n    variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\" | \"gradient\" | \"spotify\"\r\n    size?: \"default\" | \"sm\" | \"lg\" | \"icon\" | \"xl\"\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant = \"default\", size = \"default\", asChild = false, ...props }, ref) => {\r\n        const Comp = asChild ? Slot : \"button\"\r\n        return (\r\n            <Comp\r\n                className={cn(\r\n                    \"inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 tracking-wide\",\r\n                    {\r\n                        \"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:scale-105 active:scale-95 transition-transform\": variant === \"default\",\r\n                        \"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm\": variant === \"destructive\",\r\n                        \"border border-white/20 bg-transparent hover:bg-white/10 hover:text-accent-foreground\": variant === \"outline\",\r\n                        \"bg-secondary text-secondary-foreground hover:bg-secondary/80\": variant === \"secondary\",\r\n                        \"hover:bg-white/10 hover:text-accent font-normal\": variant === \"ghost\",\r\n                        \"text-primary underline-offset-4 hover:underline\": variant === \"link\",\r\n                        \"bg-gradient-to-r from-accent to-accent/80 text-black font-bold hover:brightness-110 border-0 shadow-lg hover:shadow-accent/20\": variant === \"gradient\",\r\n                        \"bg-accent text-black font-bold hover:bg-accent/90 hover:scale-105 active:scale-95 transition-transform shadow-lg\": variant === \"spotify\",\r\n                        \"h-10 px-6 py-2\": size === \"default\",\r\n                        \"h-9 px-4 text-xs\": size === \"sm\",\r\n                        \"h-12 px-8 text-base\": size === \"lg\",\r\n                        \"h-14 px-10 text-lg\": size === \"xl\",\r\n                        \"h-10 w-10\": size === \"icon\",\r\n                    },\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button }\r\n","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { auth, db } from \"@/lib/firebase\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Loader2, LogOut } from \"lucide-react\";\r\n\r\nexport default function StudentDashboard() {\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(true);\r\n    const [studentName, setStudentName] = useState(\"\");\r\n    const [schoolId, setSchoolId] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n            if (!user) {\r\n                router.push(\"/auth/student/login\");\r\n                return;\r\n            }\r\n\r\n            try {\r\n                // Determine ID from email (e.g., SHS00001@school.local -> SHS00001)\r\n                const derivedSchoolId = user.email?.split(\"@\")[0].toUpperCase() || \"\";\r\n                setSchoolId(derivedSchoolId);\r\n\r\n                // Fetch student details\r\n                if (derivedSchoolId) {\r\n                    const docRef = doc(db, \"students\", derivedSchoolId);\r\n                    const docSnap = await getDoc(docRef);\r\n                    if (docSnap.exists()) {\r\n                        setStudentName(docSnap.data().studentName);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Dashboard Error:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [router]);\r\n\r\n    const handleLogout = async () => {\r\n        await signOut(auth);\r\n        router.push(\"/auth/student/login\");\r\n    };\r\n\r\n    if (loading) return <div className=\"flex items-center justify-center h-screen\"><Loader2 className=\"w-8 h-8 animate-spin\" /></div>;\r\n\r\n    return (\r\n        <div className=\"p-8\">\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold\">Welcome, {studentName}</h1>\r\n                    <p className=\"text-muted-foreground font-mono\">{schoolId}</p>\r\n                </div>\r\n                <Button variant=\"outline\" onClick={handleLogout}>\r\n                    <LogOut className=\"w-4 h-4 mr-2\" /> Logout\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\r\n                    <h3 className=\"text-lg font-bold mb-2\">My Profile</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">View your academic and personal details.</p>\r\n                </div>\r\n                <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\r\n                    <h3 className=\"text-lg font-bold mb-2\">Fee Status</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Check pending dues and payment history.</p>\r\n                </div>\r\n                <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\r\n                    <h3 className=\"text-lg font-bold mb-2\">Attendance</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Track your daily class attendance.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}