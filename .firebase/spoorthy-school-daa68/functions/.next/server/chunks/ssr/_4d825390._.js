module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-2xl border border-[#64FFDA]/10 bg-[#112240]/40 backdrop-blur-lg text-white shadow-xl transition-all duration-300 hover:bg-[#112240]/60 hover:border-[#64FFDA]/30 hover:shadow-[0_0_20px_-5px_rgba(100,255,218,0.1)] group",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-bold text-xl tracking-tight text-white group-hover:text-accent transition-colors",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-white/60 font-medium",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},99570,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11011),e=a.i(68114);let f=c.forwardRef(({className:a,variant:c="default",size:f="default",asChild:g=!1,...h},i)=>{let j=g?d.Slot:"button";return(0,b.jsx)(j,{className:(0,e.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 tracking-wide",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:scale-105 active:scale-95 transition-transform":"default"===c,"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm":"destructive"===c,"border border-white/20 bg-transparent hover:bg-white/10 hover:text-accent-foreground":"outline"===c,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===c,"hover:bg-white/10 hover:text-accent font-normal":"ghost"===c,"text-primary underline-offset-4 hover:underline":"link"===c,"bg-gradient-to-r from-accent to-accent/80 text-black font-bold hover:brightness-110 border-0 shadow-lg hover:shadow-accent/20":"gradient"===c,"bg-accent text-black font-bold hover:bg-accent/90 hover:scale-105 active:scale-95 transition-transform shadow-lg":"spotify"===c,"h-10 px-6 py-2":"default"===f,"h-9 px-4 text-xs":"sm"===f,"h-12 px-8 text-base":"lg"===f,"h-14 px-10 text-lg":"xl"===f,"h-10 w-10":"icon"===f},a),ref:i,...h})});f.displayName="Button",a.s(["Button",()=>f])},66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-12 w-full rounded-full border border-white/10 bg-[#282828] px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-inner hover:bg-[#333]",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},5784,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},71931,a=>{"use strict";let b=(0,a.i(70106).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);a.s(["Printer",()=>b],71931)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},6015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},89402,40737,a=>{"use strict";var b=a.i(87924),c=a.i(6015),d=a.i(68114),e=a.i(99570);let f=(0,a.i(70106).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>f],40737);var g=a.i(35732);function h({data:a,columns:h,isLoading:i,onRowClick:j,actions:k}){return i?(0,b.jsx)("div",{className:"w-full h-48 flex items-center justify-center bg-white/5 rounded-xl animate-pulse",children:(0,b.jsx)("div",{className:"h-4 w-4 bg-accent/50 rounded-full animate-ping"})}):(0,b.jsxs)("div",{className:"w-full space-y-3",children:[(0,b.jsx)("div",{className:"overflow-x-auto rounded-xl md:rounded-2xl border border-white/10 bg-black/20 backdrop-blur-md custom-scrollbar",children:(0,b.jsxs)(c.Table,{className:"w-full",children:[(0,b.jsx)(c.TableHeader,{className:"bg-white/5",children:(0,b.jsxs)(c.TableRow,{className:"border-white/10 hover:bg-transparent",children:[h.map(a=>(0,b.jsx)(c.TableHead,{className:(0,d.cn)("text-muted-foreground font-black uppercase text-[7px] md:text-[10px] tracking-widest h-8 md:h-12 whitespace-nowrap px-2 md:px-6 italic",a.headerClassName),children:a.header},a.key)),k&&(0,b.jsx)(c.TableHead,{className:"w-[30px] md:w-[50px] whitespace-nowrap px-2 md:px-6"})]})}),(0,b.jsx)(c.TableBody,{children:0===a.length?(0,b.jsx)(c.TableRow,{children:(0,b.jsx)(c.TableCell,{colSpan:h.length+ +!!k,className:"h-24 md:h-32 text-center text-muted-foreground border-white/10 whitespace-nowrap text-[10px] md:text-sm italic",children:"No results found."})}):a.map((a,i)=>(0,b.jsxs)(c.TableRow,{className:(0,d.cn)("border-white/5 transition-all duration-300 hover:bg-[#64FFDA]/5 group cursor-default",j&&"cursor-pointer"),onClick:()=>j?.(a),children:[h.map(e=>(0,b.jsx)(c.TableCell,{className:(0,d.cn)("py-2 md:py-4 px-2 md:px-6 font-medium whitespace-nowrap text-[10px] md:text-sm",e.cellClassName),children:(0,b.jsx)("div",{className:"flex flex-col",children:e.render?e.render(a,i):(0,b.jsx)("span",{className:"text-white group-hover:text-accent transition-colors",children:a[e.key]})})},`${a.id}-${e.key}`)),k&&(0,b.jsx)(c.TableCell,{className:"px-2 md:px-6",children:(0,b.jsxs)(g.DropdownMenu,{children:[(0,b.jsx)(g.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",className:"h-7 w-7 md:h-8 md:w-8 p-0 hover:bg-white/10 text-muted-foreground hover:text-white",children:[(0,b.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,b.jsx)(f,{className:"h-3 w-3 md:h-4 md:w-4"})]})}),(0,b.jsxs)(g.DropdownMenuContent,{align:"end",className:"bg-[#0A192F] border-white/10 backdrop-blur-xl rounded-xl",children:[(0,b.jsx)(g.DropdownMenuLabel,{className:"text-[10px] uppercase font-black tracking-widest text-muted-foreground/60 p-3 italic",children:"Operations"}),(0,b.jsx)(g.DropdownMenuSeparator,{className:"bg-white/5"}),(0,b.jsx)("div",{className:"p-1",children:k(a)})]})]})})]},a.id||i))})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 md:py-4 px-3 md:px-6 bg-white/5 border border-white/10 rounded-xl md:rounded-2xl",children:[(0,b.jsxs)("div",{className:"text-[8px] md:text-xs font-black uppercase tracking-widest text-muted-foreground italic",children:["Scope: ",(0,b.jsxs)("span",{className:"text-white ml-1",children:[a.length," items"]})]}),(0,b.jsxs)("div",{className:"flex gap-1 md:gap-2",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",disabled:!0,className:"h-6 md:h-8 px-2 md:px-4 text-[8px] md:text-[10px] font-black uppercase tracking-widest border border-white/10 opacity-50",children:"Prev"}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",disabled:!0,className:"h-6 md:h-8 px-2 md:px-4 text-[8px] md:text-[10px] font-black uppercase tracking-widest border border-white/10 opacity-50",children:"Next"})]})]})]})}a.s(["DataTable",()=>h],89402)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},39795,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(69387);var d=a.i(60574),e=a.i(20237),f=a.i(91410),g=a.i(56025),h=a.i(80701),i=a.i(86304),j=a.i(96221),k=a.i(92e3),l=a.i(81269);function m(){let{user:a}=(0,g.useAuth)(),{classes:m,sections:n,subjectTeachers:o}=(0,f.useMasterData)(),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),v=new Date().toISOString().split("T")[0];(0,c.useEffect)(()=>{a&&w()},[a]);let w=async()=>{s(!0);try{let b=(0,d.query)((0,d.collection)(e.db,"teachers"),(0,d.where)("uid","==",a.uid),(0,d.limit)(1)),c=await (0,d.getDocs)(b);if(!c.empty){let a={id:c.docs[0].id,...c.docs[0].data()};q(a);let b=x(a);b.length>0&&u(b[0].key)}}catch(a){console.error(a)}finally{s(!1)}},x=a=>{if(!a||!o)return[];let b=a.schoolId||a.id,c=new Map;if(a.classTeacherOf){let{classId:b,sectionId:d}=a.classTeacherOf,e=`${b}_${d}`;c.set(e,{classId:b,sectionId:d,key:e,isClassTeacher:!0})}return Object.keys(o).forEach(a=>{if(Object.values(o[a]).includes(b)){let[b,d]=a.split("_");c.has(a)||c.set(a,{classId:b,sectionId:d,key:a,isClassTeacher:!1})}}),Array.from(c.values())};if(r)return(0,b.jsx)("div",{className:"p-10 flex justify-center",children:(0,b.jsx)(j.Loader2,{className:"animate-spin text-accent"})});let y=x(p);if(0===y.length)return(0,b.jsxs)("div",{className:"p-10 text-center space-y-4 max-w-md mx-auto mt-20 bg-black/20 border border-white/10 rounded-3xl backdrop-blur-xl",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20 shadow-lg shadow-red-500/20",children:(0,b.jsx)(k.AlertCircle,{className:"w-8 h-8 text-red-500"})}),(0,b.jsx)("h2",{className:"text-2xl font-display font-bold text-white",children:"No Classes Assigned"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"You are not currently assigned as a Class Teacher or Subject Teacher for any active classes."}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground/30 uppercase tracking-widest pt-4 font-black",children:"Contact Admin for Access"})]});let z=y.find(a=>a.key===t)||y[0];return(0,b.jsxs)("div",{className:"p-4 md:p-8 space-y-8 max-w-6xl mx-auto animate-in fade-in pb-20",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 border-b border-white/5 pb-8",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-5xl font-display font-bold bg-gradient-to-r from-white to-white/40 bg-clip-text text-transparent italic leading-tight",children:"Daily Attendance"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsxs)("p",{className:"text-[10px] md:text-xs text-muted-foreground font-black uppercase tracking-widest opacity-60",children:["Authorized for ",y.length," class",y.length>1?"es":""]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("label",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted-foreground ml-1",children:"Select Active Class"}),(0,b.jsxs)(h.Select,{value:t,onValueChange:u,children:[(0,b.jsx)(h.SelectTrigger,{className:"w-full md:w-[220px] h-12 bg-white/5 border-white/10 rounded-xl font-bold hover:bg-white/10 transition-all",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select Class"})}),(0,b.jsx)(h.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:y.map(a=>(0,b.jsx)(h.SelectItem,{value:a.key,className:"focus:bg-accent focus:text-black font-bold py-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between w-full gap-4",children:[(0,b.jsxs)("span",{children:[m[a.classId]?.name||a.classId," - ",n[a.sectionId]?.name||a.sectionId]}),a.isClassTeacher&&(0,b.jsx)(i.Badge,{className:"text-[8px] bg-amber-500 text-black",children:"In-charge"})]})},a.key))})]})]}),(0,b.jsx)("div",{className:"px-5 h-12 flex items-center bg-black/40 border border-white/10 rounded-xl backdrop-blur-md",children:(0,b.jsx)("span",{className:"text-xs font-black uppercase tracking-widest text-white/40",children:new Date().toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})})})]})]}),(0,b.jsx)("div",{className:"bg-black/20 border border-white/10 rounded-3xl p-2 md:p-6 backdrop-blur-xl shadow-2xl",children:(0,b.jsx)(l.default,{classId:z.classId,sectionId:z.sectionId,defaultDate:v})})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=_4d825390._.js.map