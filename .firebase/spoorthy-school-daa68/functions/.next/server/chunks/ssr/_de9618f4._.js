module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},187,a=>{"use strict";var b=a.i(98621);let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=b.clsx;a.s(["cva",0,(a,b)=>e=>{var f;if((null==b?void 0:b.variants)==null)return d(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return d(a,i,null==b||null==(f=b.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},8591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(72131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},92434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},68063,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getDeploymentId:function(){return f},getDeploymentIdQueryOrEmptyString:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(){return!1}function g(){return""}},41675,67937,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b],67937),a.s(["Calendar",()=>b],41675)},77192,a=>{"use strict";var b=a.i(72131),c=a.i(70121),d=a.i(72752),e=a=>{var e;let g,h,{present:i,children:j}=a,k=function(a){var c,e;let[g,h]=b.useState(),i=b.useRef(null),j=b.useRef(a),k=b.useRef("none"),[l,m]=(c=a?"mounted":"unmounted",e={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},b.useReducer((a,b)=>e[a][b]??a,c));return b.useEffect(()=>{let a=f(i.current);k.current="mounted"===l?a:"none"},[l]),(0,d.useLayoutEffect)(()=>{let b=i.current,c=j.current;if(c!==a){let d=k.current,e=f(b);a?m("MOUNT"):"none"===e||b?.display==="none"?m("UNMOUNT"):c&&d!==e?m("ANIMATION_OUT"):m("UNMOUNT"),j.current=a}},[a,m]),(0,d.useLayoutEffect)(()=>{if(g){let a,b=g.ownerDocument.defaultView??window,c=c=>{let d=f(i.current).includes(CSS.escape(c.animationName));if(c.target===g&&d&&(m("ANIMATION_END"),!j.current)){let c=g.style.animationFillMode;g.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===g.style.animationFillMode&&(g.style.animationFillMode=c)})}},d=a=>{a.target===g&&(k.current=f(i.current))};return g.addEventListener("animationstart",d),g.addEventListener("animationcancel",c),g.addEventListener("animationend",c),()=>{b.clearTimeout(a),g.removeEventListener("animationstart",d),g.removeEventListener("animationcancel",c),g.removeEventListener("animationend",c)}}m("ANIMATION_END")},[g,m]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(a=>{i.current=a?getComputedStyle(a):null,h(a)},[])}}(i),l="function"==typeof j?j({present:k.isPresent}):b.Children.only(j),m=(0,c.useComposedRefs)(k.ref,(e=l,(h=(g=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.ref:(h=(g=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.props.ref:e.props.ref||e.ref));return"function"==typeof j||k.isPresent?b.cloneElement(l,{ref:m}):null};function f(a){return a?.animationName||"none"}e.displayName="Presence",a.s(["Presence",()=>e])},24050,a=>{"use strict";var b=a.i(72131),c=a.i(7554),d=a.i(37738),e=a.i(70121),f=a.i(50104),g=a.i(92843),h=a.i(30553),i=a.i(46872),j=a.i(25152),k=a.i(7827),l=a.i(87924),m="rovingFocusGroup.onEntryFocus",n={bubbles:!1,cancelable:!0},o="RovingFocusGroup",[p,q,r]=(0,d.createCollection)(o),[s,t]=(0,f.createContextScope)(o,[r]),[u,v]=s(o),w=b.forwardRef((a,b)=>(0,l.jsx)(p.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(p.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(x,{...a,ref:b})})}));w.displayName=o;var x=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:f,orientation:g,loop:p=!1,dir:r,currentTabStopId:s,defaultCurrentTabStopId:t,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:x=!1,...y}=a,z=b.useRef(null),A=(0,e.useComposedRefs)(d,z),C=(0,k.useDirection)(r),[D,E]=(0,j.useControllableState)({prop:s,defaultProp:t??null,onChange:v,caller:o}),[F,G]=b.useState(!1),H=(0,i.useCallbackRef)(w),I=q(f),J=b.useRef(!1),[K,L]=b.useState(0);return b.useEffect(()=>{let a=z.current;if(a)return a.addEventListener(m,H),()=>a.removeEventListener(m,H)},[H]),(0,l.jsx)(u,{scope:f,orientation:g,dir:C,loop:p,currentTabStopId:D,onItemFocus:b.useCallback(a=>E(a),[E]),onItemShiftTab:b.useCallback(()=>G(!0),[]),onFocusableItemAdd:b.useCallback(()=>L(a=>a+1),[]),onFocusableItemRemove:b.useCallback(()=>L(a=>a-1),[]),children:(0,l.jsx)(h.Primitive.div,{tabIndex:F||0===K?-1:0,"data-orientation":g,...y,ref:A,style:{outline:"none",...a.style},onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,()=>{J.current=!0}),onFocus:(0,c.composeEventHandlers)(a.onFocus,a=>{let b=!J.current;if(a.target===a.currentTarget&&b&&!F){let b=new CustomEvent(m,n);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=I().filter(a=>a.focusable);B([a.find(a=>a.active),a.find(a=>a.id===D),...a].filter(Boolean).map(a=>a.ref.current),x)}}J.current=!1}),onBlur:(0,c.composeEventHandlers)(a.onBlur,()=>G(!1))})})}),y="RovingFocusGroupItem",z=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,focusable:f=!0,active:i=!1,tabStopId:j,children:k,...m}=a,n=(0,g.useId)(),o=j||n,r=v(y,e),s=r.currentTabStopId===o,t=q(e),{onFocusableItemAdd:u,onFocusableItemRemove:w,currentTabStopId:x}=r;return b.useEffect(()=>{if(f)return u(),()=>w()},[f,u,w]),(0,l.jsx)(p.ItemSlot,{scope:e,id:o,focusable:f,active:i,children:(0,l.jsx)(h.Primitive.span,{tabIndex:s?0:-1,"data-orientation":r.orientation,...m,ref:d,onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,a=>{f?r.onItemFocus(o):a.preventDefault()}),onFocus:(0,c.composeEventHandlers)(a.onFocus,()=>r.onItemFocus(o)),onKeyDown:(0,c.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void r.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return A[e]}(a,r.orientation,r.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=t().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=r.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>B(e))}}),children:"function"==typeof k?k({isCurrentTabStop:s,hasTabStop:null!=x}):k})})});z.displayName=y;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}a.s(["Item",()=>z,"Root",()=>w,"createRovingFocusGroupScope",()=>t])},50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},4720,a=>{"use strict";let b=(0,a.i(70106).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},53722,a=>{"use strict";let b=(0,a.i(70106).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>b],53722)},56738,a=>{"use strict";let b=(0,a.i(70106).default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);a.s(["Wallet",()=>b],56738)},20005,a=>{"use strict";let b=(0,a.i(70106).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);a.s(["LogOut",()=>b],20005)},23312,a=>{"use strict";let b=(0,a.i(70106).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);a.s(["Bell",()=>b],23312)},72692,a=>{"use strict";let b=(0,a.i(70106).default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);a.s(["Menu",()=>b],72692)},30617,39859,a=>{"use strict";let b=(0,a.i(70106).default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);a.s(["LayoutDashboard",()=>b],30617);var c=a.i(87924),d=a.i(72131),e=a.i(38246),f=a.i(23312);a.i(69387);var g=a.i(60574),h=a.i(20237),i=a.i(56025),j=a.i(35732),k=a.i(86304),l=a.i(68114);function m({role:a}){let{user:b}=(0,i.useAuth)(),[m,n]=(0,d.useState)([]),[o,p]=(0,d.useState)(0);(0,d.useEffect)(()=>{if(!b)return;let c=!0,d=[],e=a=>{c&&n(b=>[...a,...b.filter(b=>!a.find(a=>a.id===b.id))].sort((a,b)=>{let c=a.createdAt?.seconds||0;return(b.createdAt?.seconds||0)-c}).slice(0,20))};return(async()=>{if(!b?.uid)return;let f=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("userId","==",b.uid),(0,g.limit)(20));try{let a=(0,g.onSnapshot)(f,a=>{if(!c)return;let b=a.docs.map(a=>({id:a.id,...a.data()}));e(b)},a=>{console.error("Personal notification listener error:",a)});d.push(a)}catch(a){console.error("Failed to start personal notification listener",a)}try{if("ADMIN"===a||"MANAGER"===a){let a=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("target","==","ALL_ADMINS"),(0,g.limit)(20)),b=(0,g.onSnapshot)(a,a=>{if(!c)return;let b=a.docs.map(a=>({id:a.id,...a.data()}));e(b)},a=>console.error("Admin notification listener error:",a));d.push(b)}else if("TEACHER"===a){let a=(0,g.query)((0,g.collection)(h.db,"teachers"),(0,g.where)("uid","==",b.uid),(0,g.limit)(1)),f=await (0,g.getDocs)(a);if(!c)return;let i=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("target","in",["ALL","ALL_FACULTY"]),(0,g.limit)(20)),j=(0,g.onSnapshot)(i,a=>{c&&e(a.docs.map(a=>({id:a.id,...a.data()})))});if(d.push(j),!f.empty){let a=f.docs[0].data().schoolId||f.docs[0].id;if(a){let b=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("userId","==",a),(0,g.limit)(20)),f=(0,g.onSnapshot)(b,a=>{c&&e(a.docs.map(a=>({id:a.id,...a.data()})))});d.push(f)}}}else if("STUDENT"===a){let a=(0,g.query)((0,g.collection)(h.db,"students"),(0,g.where)("uid","==",b.uid),(0,g.limit)(1)),f=await (0,g.getDocs)(a);if(!c)return;let i=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("target","in",["ALL","ALL_STUDENTS"]),(0,g.limit)(20)),j=(0,g.onSnapshot)(i,a=>{c&&e(a.docs.map(a=>({id:a.id,...a.data()})))});if(d.push(j),!f.empty){let a=f.docs[0].data(),b=a.classId,i=a.schoolId||f.docs[0].id;if(b){let a=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("target","==",`class_${b}`),(0,g.limit)(20)),f=(0,g.onSnapshot)(a,a=>{c&&e(a.docs.map(a=>({id:a.id,...a.data()})))},a=>console.error("Student notification listener error (class):",a));d.push(f)}let j=a.villageId;if(j){let a=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("target","==",`village_${j}`),(0,g.limit)(20)),b=(0,g.onSnapshot)(a,a=>{c&&e(a.docs.map(a=>({id:a.id,...a.data()})))},a=>console.error("Student notification listener error (village):",a));d.push(b)}if(i){let a=(0,g.query)((0,g.collection)(h.db,"notifications"),(0,g.where)("userId","==",i),(0,g.limit)(20)),b=(0,g.onSnapshot)(a,a=>{c&&e(a.docs.map(a=>({id:a.id,...a.data()})))},a=>console.error("Student notification listener error (personal):",a));d.push(b)}}}}catch(a){console.error("Error setting up role-based listeners:",a)}})(),()=>{c=!1,d.forEach(a=>a())}},[b,a]),(0,d.useEffect)(()=>{p(m.filter(a=>"UNREAD"===a.status).length)},[m]);let q=async a=>{try{await (0,g.updateDoc)((0,g.doc)(h.db,"notifications",a),{status:"READ"})}catch(a){console.error("Error marking notification as read:",a)}};return(0,c.jsxs)(j.DropdownMenu,{children:[(0,c.jsx)(j.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsxs)("button",{className:"relative p-2 hover:bg-white/5 rounded-full text-[#8892B0] hover:text-white transition-colors group",children:[(0,c.jsx)(f.Bell,{size:20,className:(0,l.cn)(o>0&&"animate-pulse")}),o>0&&(0,c.jsx)("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center text-white font-bold border-2 border-[#0A192F]",children:o})]})}),(0,c.jsxs)(j.DropdownMenuContent,{align:"end",className:"w-80 bg-[#112240] border-[#64FFDA]/20 text-[#E6F1FF] backdrop-blur-xl p-0 shadow-2xl rounded-xl",children:[(0,c.jsxs)(j.DropdownMenuLabel,{className:"p-4 flex justify-between items-center border-b border-[#64FFDA]/10",children:[(0,c.jsx)("span",{className:"font-bold",children:"Notifications"}),o>0&&(0,c.jsxs)(k.Badge,{variant:"secondary",className:"bg-[#64FFDA]/10 text-[#64FFDA]",children:[o," New"]})]}),(0,c.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:0===m.length?(0,c.jsx)("div",{className:"py-10 text-center text-muted-foreground text-sm italic",children:"No notifications yet"}):m.map(a=>(0,c.jsxs)(j.DropdownMenuItem,{onClick:()=>q(a.id),className:(0,l.cn)("flex flex-col items-start gap-1 p-4 cursor-pointer focus:bg-[#3B82F6]/5","UNREAD"===a.status?"bg-[#3B82F6]/5 border-l-2 border-[#3B82F6]":"opacity-70"),children:[(0,c.jsxs)("div",{className:"font-bold text-sm flex justify-between w-full",children:[(0,c.jsx)("span",{children:a.title}),"UNREAD"===a.status&&(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#3B82F6]"})]}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.message}),(0,c.jsx)("span",{className:"text-[10px] text-muted-foreground/50 mt-1",children:a.createdAt?.toDate?a.createdAt.toDate().toLocaleString():"Just now"})]},a.id))}),(0,c.jsx)(j.DropdownMenuSeparator,{className:"bg-[#64FFDA]/10"}),(0,c.jsx)("div",{className:"p-2 text-center",children:(0,c.jsx)(e.default,{href:"ADMIN"===a||"MANAGER"===a?"/admin/notifications":"TEACHER"===a?"/teacher/notifications":"/student/notifications",className:"text-[10px] text-[#64FFDA] hover:underline font-bold tracking-widest uppercase block w-full py-1",children:"View All"})})]})]})}a.s(["NotificationCenter",()=>m],39859)},21649,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(56025),f=a.i(96221),g=a.i(30617),h=a.i(56738),i=a.i(53722),j=a.i(23312),k=a.i(41675),l=a.i(46842),m=a.i(20005),n=a.i(72692),o=a.i(33508),p=a.i(4720),q=a.i(70106);let r=(0,q.default)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),s=(0,q.default)("calendar-check",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);var t=a.i(38246),u=a.i(68114),v=a.i(20237);a.i(69387);var w=a.i(60574),x=a.i(35732),y=a.i(39859);let z=[{label:"Dashboard",icon:g.LayoutDashboard,href:"/student",exact:!0},{label:"Fees & Payments",icon:h.Wallet,href:"/student/fees"},{label:"Homework",icon:i.BookOpen,href:"/student/homework"},{label:"Notices",icon:j.Bell,href:"/student/notices"},{label:"Leaves",icon:p.FileText,href:"/student/leaves"},{label:"Attendance",icon:s,href:"/student/attendance"},{label:"Timetable",icon:k.Calendar,href:"/student/timetable"},{label:"Hall Tickets",icon:r,href:"/student/exams"},{label:"Holidays",icon:k.Calendar,href:"/student/holidays"},{label:"Profile",icon:l.User,href:"/student/profile"}];function A({children:a}){let{user:g,loading:h,signOut:i}=(0,e.useAuth)(),j=(0,d.useRouter)(),k=(0,d.usePathname)(),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{h||(g?(async()=>{try{let a=await (0,w.getDoc)((0,w.doc)(v.db,"users",g.uid));a.exists()&&a.data().mustChangePassword&&s(!0)}catch(a){console.error("Security check failed",a)}finally{q(!1)}})():j.push("/login"))},[g,h,j]),(0,c.useEffect)(()=>{r&&"/student/change-password"!==k&&j.push("/student/change-password")},[k,r,j]),h||p)?(0,b.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-[#0A192F] text-[#64FFDA]",children:(0,b.jsx)(f.Loader2,{className:"animate-spin"})}):"/student/change-password"===k?(0,b.jsx)("div",{className:"min-h-screen bg-[#0A192F] text-white",children:a}):(0,b.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-[#0A192F] via-[#112240] to-[#0A192F] text-[#E6F1FF] font-sans overflow-hidden",children:[A&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:()=>B(!1)}),(0,b.jsxs)("aside",{className:(0,u.cn)("fixed lg:static inset-y-0 left-0 w-64 border-r border-[#64FFDA]/10 bg-[#0A192F]/80 backdrop-blur-xl flex-col h-full z-50 transition-transform duration-300",A?"translate-x-0":"-translate-x-full lg:translate-x-0","flex"),children:[(0,b.jsxs)("div",{className:"h-20 flex items-center justify-between px-6 border-b border-[#64FFDA]/10",children:[(0,b.jsx)("button",{onClick:()=>B(!1),className:"lg:hidden p-2 hover:bg-white/5 rounded-lg text-white transition-colors",children:(0,b.jsx)(o.X,{size:20})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded bg-[#3B82F6]/10 border border-[#3B82F6]/30 flex items-center justify-center text-[#3B82F6] font-bold font-mono text-lg",children:"S"}),(0,b.jsxs)("h1",{className:"font-display font-bold text-xl text-white tracking-tight",children:["Student",(0,b.jsx)("span",{className:"text-[#3B82F6]",children:".Panel"})]})]})]}),(0,b.jsx)("nav",{className:"flex-1 py-6 px-3 space-y-1 overflow-y-auto scrollbar-thin scrollbar-thumb-white/10",children:z.map(a=>{let c=a.exact?k===a.href:k.startsWith(a.href);return(0,b.jsxs)(t.default,{href:a.href,onClick:()=>B(!1),className:(0,u.cn)("flex items-center gap-3 px-3 py-3 rounded-md transition-all duration-200 text-sm font-medium border border-transparent",c?"bg-[#3B82F6]/10 text-[#3B82F6] border-[#3B82F6]/20 shadow-[0_0_15px_-5px_#3B82F6]":"text-[#8892B0] hover:text-[#E6F1FF] hover:bg-white/5"),children:[(0,b.jsx)(a.icon,{size:18}),a.label]},a.href)})}),(0,b.jsxs)("div",{className:"p-4 border-t border-[#64FFDA]/10",children:[(0,b.jsxs)("button",{onClick:i,className:"flex items-center gap-3 px-3 py-3 text-sm font-medium text-[#8892B0] hover:text-[#FF5555] hover:bg-[#FF5555]/10 w-full rounded-md transition-colors",children:[(0,b.jsx)(m.LogOut,{size:18}),"Sign Out"]}),(0,b.jsx)("div",{className:"mt-2 text-xs text-center text-[#8892B0]/50 font-mono",children:"v1.2.0"})]})]}),(0,b.jsxs)("main",{className:"flex-1 flex flex-col relative min-w-0 overflow-hidden",children:[(0,b.jsxs)("header",{className:"h-16 lg:hidden px-4 border-b border-[#64FFDA]/10 flex items-center justify-between bg-[#0A192F]/80 backdrop-blur sticky top-0 z-40",children:[(0,b.jsx)("button",{onClick:()=>B(!0),className:"p-2 hover:bg-white/5 rounded-lg text-white transition-colors",children:(0,b.jsx)(n.Menu,{size:24})}),(0,b.jsx)("div",{className:"font-bold text-lg text-white",children:"Student Portal"}),(0,b.jsxs)("div",{className:"flex items-center gap-4 ml-auto",children:[(0,b.jsx)(y.NotificationCenter,{role:"STUDENT"}),(0,b.jsxs)(x.DropdownMenu,{children:[(0,b.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)("button",{className:"w-9 h-9 rounded-full bg-[#3B82F6]/20 text-[#3B82F6] border border-[#3B82F6]/30 flex items-center justify-center font-bold text-sm hover:bg-[#3B82F6]/30 transition-colors",children:g?.email?.substring(0,2).toUpperCase()})}),(0,b.jsxs)(x.DropdownMenuContent,{align:"end",className:"w-56 bg-[#0A192F] border-[#64FFDA]/20 text-[#E6F1FF] backdrop-blur-xl",children:[(0,b.jsx)(x.DropdownMenuLabel,{children:"My Account"}),(0,b.jsx)(x.DropdownMenuSeparator,{className:"bg-[#64FFDA]/10"}),(0,b.jsx)(x.DropdownMenuItem,{asChild:!0,className:"focus:bg-[#64FFDA]/10 focus:text-[#64FFDA] cursor-pointer",children:(0,b.jsxs)(t.default,{href:"/student/profile",className:"flex items-center",children:[(0,b.jsx)(l.User,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{children:"Profile"})]})}),(0,b.jsx)(x.DropdownMenuSeparator,{className:"bg-[#64FFDA]/10"}),(0,b.jsxs)(x.DropdownMenuItem,{onClick:i,className:"text-[#FF5555] focus:bg-[#FF5555]/10 focus:text-[#FF5555] cursor-pointer",children:[(0,b.jsx)(m.LogOut,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{children:"Sign Out"})]})]})]})]})]}),(0,b.jsxs)("header",{className:"hidden lg:flex h-16 w-full items-center justify-end px-8 border-b border-[#64FFDA]/10 bg-[#0A192F]/50 backdrop-blur sticky top-0 z-40 gap-4",children:[(0,b.jsx)(y.NotificationCenter,{role:"STUDENT"}),(0,b.jsxs)(x.DropdownMenu,{children:[(0,b.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)("button",{className:"w-9 h-9 rounded-full bg-[#3B82F6]/20 text-[#3B82F6] border border-[#3B82F6]/30 flex items-center justify-center font-bold text-sm hover:bg-[#3B82F6]/30 transition-colors",children:g?.email?.substring(0,2).toUpperCase()})}),(0,b.jsxs)(x.DropdownMenuContent,{align:"end",className:"w-56 bg-[#0A192F] border-[#64FFDA]/20 text-[#E6F1FF] backdrop-blur-xl",children:[(0,b.jsx)(x.DropdownMenuLabel,{children:"My Account"}),(0,b.jsx)(x.DropdownMenuSeparator,{className:"bg-[#64FFDA]/10"}),(0,b.jsx)(x.DropdownMenuItem,{asChild:!0,className:"focus:bg-[#64FFDA]/10 focus:text-[#64FFDA] cursor-pointer",children:(0,b.jsxs)(t.default,{href:"/student/profile",className:"flex items-center",children:[(0,b.jsx)(l.User,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{children:"Profile"})]})}),(0,b.jsx)(x.DropdownMenuSeparator,{className:"bg-[#64FFDA]/10"}),(0,b.jsxs)(x.DropdownMenuItem,{onClick:i,className:"text-[#FF5555] focus:bg-[#FF5555]/10 focus:text-[#FF5555] cursor-pointer",children:[(0,b.jsx)(m.LogOut,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{children:"Sign Out"})]})]})]})]}),(0,b.jsx)("div",{className:"flex-1 p-4 lg:p-8 overflow-y-auto scrollbar-thin scrollbar-thumb-white/10 hover:scrollbar-thumb-white/20",children:a})]})]})}a.s(["default",()=>A],21649)}];

//# sourceMappingURL=_de9618f4._.js.map