(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},91918,20783,e=>{"use strict";var t=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}function s(...e){return t.useCallback(a(...e),e)}e.s(["composeRefs",()=>a,"useComposedRefs",()=>s],20783);var o=e.i(43476);function i(e){var r;let s,i=(r=e,(s=t.forwardRef((e,r)=>{let{children:s,...o}=e;if(t.isValidElement(s)){var i;let e,n,l=(i=s,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let r={...t};for(let a in t){let s=e[a],o=t[a];/^on[A-Z]/.test(a)?s&&o?r[a]=(...e)=>{let t=o(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...o}:"className"===a&&(r[a]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}(o,s.props);return s.type!==t.Fragment&&(d.ref=r?a(r,l):l),t.cloneElement(s,d)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${r}.SlotClone`,s),n=t.forwardRef((e,r)=>{let{children:a,...s}=e,n=t.Children.toArray(a),l=n.find(d);if(l){let e=l.props.children,a=n.map(r=>r!==l?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,o.jsx)(i,{...s,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,o.jsx)(i,{...s,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}var n=i("Slot"),l=Symbol("radix.slottable");function d(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}e.s(["Slot",()=>n,"createSlot",()=>i],91918)},19455,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(91918),s=e.i(75157);let o=r.forwardRef(({className:e,variant:r="default",size:o="default",asChild:i=!1,...n},l)=>{let d=i?a.Slot:"button";return(0,t.jsx)(d,{className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 tracking-wide",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:scale-105 active:scale-95 transition-transform":"default"===r,"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm":"destructive"===r,"border border-white/20 bg-transparent hover:bg-white/10 hover:text-accent-foreground":"outline"===r,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===r,"hover:bg-white/10 hover:text-accent font-normal":"ghost"===r,"text-primary underline-offset-4 hover:underline":"link"===r,"bg-gradient-to-r from-accent to-accent/80 text-black font-bold hover:brightness-110 border-0 shadow-lg hover:shadow-accent/20":"gradient"===r,"bg-accent text-black font-bold hover:bg-accent/90 hover:scale-105 active:scale-95 transition-transform shadow-lg":"spotify"===r,"h-10 px-6 py-2":"default"===o,"h-9 px-4 text-xs":"sm"===o,"h-12 px-8 text-base":"lg"===o,"h-14 px-10 text-lg":"xl"===o,"h-10 w-10":"icon"===o},e),ref:l,...n})});o.displayName="Button",e.s(["Button",()=>o])},93479,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let s=r.forwardRef(({className:e,type:r,...s},o)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-12 w-full rounded-full border border-white/10 bg-[#282828] px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-inner hover:bg-[#333]",e),ref:o,...s}));s.displayName="Input",e.s(["Input",()=>s])},10204,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("label",{ref:s,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));s.displayName="Label",e.s(["Label",()=>s])},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},51501,e=>{"use strict";let t=(0,e.i(75254).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);e.s(["GraduationCap",()=>t],51501)},22928,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(51718);var a=e.i(18357),s=e.i(59141),o=e.i(18566),i=e.i(19455),n=e.i(93479),l=e.i(10204),d=e.i(31278),c=e.i(70756),u=e.i(51501);e.i(36180);var f=e.i(98925),h=e.i(80691);function p(){let e=(0,o.useRouter)(),[p,m]=(0,r.useState)({schoolId:"",password:""}),[g,b]=(0,r.useState)(!1),[x,v]=(0,r.useState)(""),y=async t=>{t.preventDefault(),b(!0),v("");try{let t=`${p.schoolId.toUpperCase()}@school.local`,r=(await (0,a.signInWithEmailAndPassword)(s.auth,t,p.password)).user,o=(0,f.doc)(s.db,"teachers",p.schoolId.toUpperCase()),i=await (0,f.getDoc)(o);if(!i.exists())throw Error("Teacher record not found.");let n=i.data();if("ACTIVE"!==n.status)throw Error("Account is inactive. Contact Admin.");let l=(0,f.doc)(s.db,"users",r.uid),d=await (0,f.getDoc)(l);if(d.exists()&&d.data().mustChangePassword)return void e.push("/auth/force-password-change");(0,h.toast)({title:"Welcome Back",description:`Logged in as ${n.name}`,type:"success"}),e.push("/teacher/dashboard")}catch(e){console.error("Login Error:",e),(0,h.toast)({title:"Login Failed",description:e.message||"Please check your ID and Password",type:"error"}),"auth/invalid-credential"===e.code||"auth/user-not-found"===e.code?v("Invalid ID or Password"):v(e.message||"Login Failed")}finally{b(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-4 ring-1 ring-blue-500/20",children:(0,t.jsx)(u.GraduationCap,{className:"w-8 h-8 text-blue-500"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-display",children:"Teacher Portal"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Enter your School ID to continue"})]}),(0,t.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-xl",children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"schoolId",children:"Teacher ID"}),(0,t.jsx)(n.Input,{id:"schoolId",placeholder:"e.g. SHST0001",className:"bg-black/20 border-white/10 h-11 font-mono uppercase tracking-wider placeholder:normal-case placeholder:font-sans placeholder:tracking-normal",value:p.schoolId,onChange:e=>m({...p,schoolId:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Input,{id:"password",type:"password",placeholder:"••••••••",className:"bg-black/20 border-white/10 h-11 pr-10",value:p.password,onChange:e=>m({...p,password:e.target.value}),required:!0}),(0,t.jsx)(c.Lock,{className:"absolute right-3 top-3 h-5 w-5 text-muted-foreground"})]})]}),x&&(0,t.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm text-center font-medium",children:x}),(0,t.jsx)(i.Button,{type:"submit",className:"w-full h-11 bg-blue-600 hover:bg-blue-700 text-white font-bold",disabled:g,children:g?(0,t.jsx)(d.Loader2,{className:"w-4 h-4 animate-spin"}):"Sign In"})]})}),(0,t.jsx)("p",{className:"text-center text-xs text-muted-foreground uppercase tracking-widest opacity-50",children:"Spoorthy Concept School • Faculty"})]})})}e.s(["default",()=>p])}]);