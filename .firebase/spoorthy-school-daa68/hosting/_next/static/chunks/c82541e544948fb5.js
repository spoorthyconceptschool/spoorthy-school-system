(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},93479,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let l=a.forwardRef(({className:e,type:a,...l},r)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-12 w-full rounded-full border border-white/10 bg-[#282828] px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-inner hover:bg-[#333]",e),ref:r,...l}));l.displayName="Input",e.s(["Input",()=>l])},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let l=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("label",{ref:l,className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...a}));l.displayName="Label",e.s(["Label",()=>l])},76639,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(26999),l=e.i(37727),r=e.i(75157);let d=s.Root,o=s.Trigger,i=s.Portal;s.Close;let n=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)(s.Overlay,{ref:l,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));n.displayName=s.Overlay.displayName;let c=a.forwardRef(({className:e,children:a,...d},o)=>(0,t.jsxs)(i,{children:[(0,t.jsx)(n,{}),(0,t.jsxs)(s.Content,{ref:o,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...d,children:[a,(0,t.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));c.displayName=s.Content.displayName;let m=({className:e,...a})=>(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});m.displayName="DialogHeader";let x=({className:e,...a})=>(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="DialogFooter";let u=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)(s.Title,{ref:l,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));u.displayName=s.Title.displayName;let h=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)(s.Description,{ref:l,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=s.Description.displayName,e.s(["Dialog",()=>d,"DialogContent",()=>c,"DialogDescription",()=>h,"DialogFooter",()=>x,"DialogHeader",()=>m,"DialogTitle",()=>u,"DialogTrigger",()=>o])},84774,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let l=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:l,className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})}));l.displayName="Table";let r=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("thead",{ref:l,className:(0,s.cn)("[&_tr]:border-b",e),...a}));r.displayName="TableHeader";let d=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("tbody",{ref:l,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a}));d.displayName="TableBody",a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("tfoot",{ref:l,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let o=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("tr",{ref:l,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));o.displayName="TableRow";let i=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("th",{ref:l,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));i.displayName="TableHead";let n=a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("td",{ref:l,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));n.displayName="TableCell",a.forwardRef(({className:e,...a},l)=>(0,t.jsx)("caption",{ref:l,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>d,"TableCell",()=>n,"TableHead",()=>i,"TableHeader",()=>r,"TableRow",()=>o])},69049,41071,e=>{"use strict";var t=e.i(43476),a=e.i(84774),s=e.i(75157),l=e.i(19455);let r=(0,e.i(75254).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>r],41071);var d=e.i(55146);function o({data:e,columns:o,isLoading:i,onRowClick:n,actions:c}){return i?(0,t.jsx)("div",{className:"w-full h-48 flex items-center justify-center bg-white/5 rounded-xl animate-pulse",children:(0,t.jsx)("div",{className:"h-4 w-4 bg-accent/50 rounded-full animate-ping"})}):(0,t.jsxs)("div",{className:"w-full space-y-3",children:[(0,t.jsx)("div",{className:"overflow-x-auto rounded-xl md:rounded-2xl border border-white/10 bg-black/20 backdrop-blur-md custom-scrollbar",children:(0,t.jsxs)(a.Table,{className:"w-full",children:[(0,t.jsx)(a.TableHeader,{className:"bg-white/5",children:(0,t.jsxs)(a.TableRow,{className:"border-white/10 hover:bg-transparent",children:[o.map(e=>(0,t.jsx)(a.TableHead,{className:(0,s.cn)("text-muted-foreground font-black uppercase text-[7px] md:text-[10px] tracking-widest h-8 md:h-12 whitespace-nowrap px-2 md:px-6 italic",e.headerClassName),children:e.header},e.key)),c&&(0,t.jsx)(a.TableHead,{className:"w-[30px] md:w-[50px] whitespace-nowrap px-2 md:px-6"})]})}),(0,t.jsx)(a.TableBody,{children:0===e.length?(0,t.jsx)(a.TableRow,{children:(0,t.jsx)(a.TableCell,{colSpan:o.length+ +!!c,className:"h-24 md:h-32 text-center text-muted-foreground border-white/10 whitespace-nowrap text-[10px] md:text-sm italic",children:"No results found."})}):e.map((e,i)=>(0,t.jsxs)(a.TableRow,{className:(0,s.cn)("border-white/5 transition-all duration-300 hover:bg-[#64FFDA]/5 group cursor-default",n&&"cursor-pointer"),onClick:()=>n?.(e),children:[o.map(l=>(0,t.jsx)(a.TableCell,{className:(0,s.cn)("py-2 md:py-4 px-2 md:px-6 font-medium whitespace-nowrap text-[10px] md:text-sm",l.cellClassName),children:(0,t.jsx)("div",{className:"flex flex-col",children:l.render?l.render(e,i):(0,t.jsx)("span",{className:"text-white group-hover:text-accent transition-colors",children:e[l.key]})})},`${e.id}-${l.key}`)),c&&(0,t.jsx)(a.TableCell,{className:"px-2 md:px-6",children:(0,t.jsxs)(d.DropdownMenu,{children:[(0,t.jsx)(d.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(l.Button,{variant:"ghost",className:"h-7 w-7 md:h-8 md:w-8 p-0 hover:bg-white/10 text-muted-foreground hover:text-white",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,t.jsx)(r,{className:"h-3 w-3 md:h-4 md:w-4"})]})}),(0,t.jsxs)(d.DropdownMenuContent,{align:"end",className:"bg-[#0A192F] border-white/10 backdrop-blur-xl rounded-xl",children:[(0,t.jsx)(d.DropdownMenuLabel,{className:"text-[10px] uppercase font-black tracking-widest text-muted-foreground/60 p-3 italic",children:"Operations"}),(0,t.jsx)(d.DropdownMenuSeparator,{className:"bg-white/5"}),(0,t.jsx)("div",{className:"p-1",children:c(e)})]})]})})]},e.id||i))})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 md:py-4 px-3 md:px-6 bg-white/5 border border-white/10 rounded-xl md:rounded-2xl",children:[(0,t.jsxs)("div",{className:"text-[8px] md:text-xs font-black uppercase tracking-widest text-muted-foreground italic",children:["Scope: ",(0,t.jsxs)("span",{className:"text-white ml-1",children:[e.length," items"]})]}),(0,t.jsxs)("div",{className:"flex gap-1 md:gap-2",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",disabled:!0,className:"h-6 md:h-8 px-2 md:px-4 text-[8px] md:text-[10px] font-black uppercase tracking-widest border border-white/10 opacity-50",children:"Prev"}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",disabled:!0,className:"h-6 md:h-8 px-2 md:px-4 text-[8px] md:text-[10px] font-black uppercase tracking-widest border border-white/10 opacity-50",children:"Next"})]})]})]})}e.s(["DataTable",()=>o],69049)},36903,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(36180);var s=e.i(98925),l=e.i(59141),r=e.i(69049),d=e.i(31278),o=e.i(7233),i=e.i(55436),n=e.i(71689),c=e.i(3281),m=e.i(71431),x=e.i(19455),u=e.i(76639),h=e.i(93479),p=e.i(10204),f=e.i(67489),b=e.i(32341),g=e.i(72498);function w(){let{user:e}=(0,b.useAuth)(),[w,N]=(0,a.useState)([]),[j,y]=(0,a.useState)(!0),[v,k]=(0,a.useState)(!1),{branding:D}=(0,g.useMasterData)(),[T,S]=(0,a.useState)("");(0,a.useEffect)(()=>{if(!e)return;let t=(0,s.onSnapshot)((0,s.doc)(l.db,"users",e.uid),e=>{e.exists()&&S(e.data().role)});return()=>t()},[e]);let[C,I]=(0,a.useState)(""),[R,L]=(0,a.useState)([]),[P,A]=(0,a.useState)([]),[F,z]=(0,a.useState)(null),[B,E]=(0,a.useState)(null),[M,$]=(0,a.useState)({amount:"",method:"cash",date:new Date().toISOString().split("T")[0],remarks:""}),[_,H]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=!0,t=(0,s.query)((0,s.collection)(l.db,"payments"),(0,s.orderBy)("date","desc"),(0,s.limit)(50)),a=(0,s.onSnapshot)(t,t=>{e&&(N(t.docs.map(e=>({id:e.id,...e.data()}))),y(!1))},t=>{e&&(console.error("Payments listener error:",t),y(!1))}),r=(0,s.query)((0,s.collection)(l.db,"students"),(0,s.orderBy)("studentName","asc")),d=(0,s.onSnapshot)(r,t=>{e&&L(t.docs.map(e=>({id:e.id,...e.data()})))},t=>{e&&console.error("Students list listener error:",t)});return()=>{e=!1,a(),d()}},[]);let O=async e=>{z(e),I(""),A([]);try{let t=(0,s.doc)(l.db,"student_fee_ledgers",`${e.schoolId}_2025-2026`),a=await (0,s.getDoc)(t);a.exists()?E(a.data()):E(null)}catch(e){console.error("Error fetching ledger:",e),E(null)}},q=async e=>{if(e.preventDefault(),F){H(!0);try{let e=Number(M.amount);if(e<=0)throw Error("Invalid Amount");let t={studentId:F.schoolId,studentName:F.studentName,amount:e,method:M.method,date:s.Timestamp.fromDate(new Date(M.date)),status:"success",remarks:M.remarks,createdAt:s.Timestamp.now(),verifiedBy:"admin"};await (0,s.addDoc)((0,s.collection)(l.db,"payments"),t);let a=(0,s.doc)(l.db,"student_fee_ledgers",`${F.schoolId}_2025-2026`),r=(B?.totalPaid||0)+e,d=B?.totalFee||0;if(await (0,s.updateDoc)(a,{totalPaid:r,status:r>=d?"PAID":"PENDING",updatedAt:new Date().toISOString()}),F.uid)try{await (0,s.addDoc)((0,s.collection)(l.db,"notifications"),{userId:F.uid,title:"Fee Payment Received",message:`Payment of ₹${e.toLocaleString()} received via ${M.method}. ${M.remarks?`(${M.remarks})`:""}`,type:"PAYMENT_RECEIVED",status:"UNREAD",createdAt:s.Timestamp.now(),read:!1})}catch(e){console.error("Failed to notify student",e)}try{await (0,s.addDoc)((0,s.collection)(l.db,"notifications"),{target:"ALL_ADMINS",title:"Fee Collected",message:`Collected ₹${e.toLocaleString()} from ${F.studentName} (${F.schoolId}) via ${M.method}.`,type:"PAYMENT_COLLECTED",status:"UNREAD",createdAt:s.Timestamp.now(),read:!1})}catch(e){console.error("Failed to notify admins",e)}k(!1),$({amount:"",method:"cash",date:new Date().toISOString().split("T")[0],remarks:""}),z(null),E(null),alert("Payment Recorded & Ledger Updated")}catch(e){console.error(e),alert(e.message)}finally{H(!1)}}},U=B?(B.totalFee||0)-(B.totalPaid||0):0,V=async e=>{try{let t=(0,s.doc)(l.db,"students",e.studentId),a=await (0,s.getDoc)(t),r=a.exists()?{id:a.id,...a.data()}:{studentName:e.studentName,schoolId:e.studentId,className:"N/A"},d=(0,s.doc)(l.db,"student_fee_ledgers",`${e.studentId}_2025-2026`),o=await (0,s.getDoc)(d),i=o.exists()?o.data():{totalFee:0,totalPaid:0};(0,m.printPaymentReceipt)({payment:e,student:r,ledger:i,schoolLogo:D?.schoolLogo,schoolName:D?.schoolName})}catch(e){console.error(e),alert("Failed to fetch receipt data")}},G=[{key:"studentId",header:"Student ID",render:e=>(0,t.jsx)("span",{className:"font-mono text-xs",children:e.studentId})},{key:"studentName",header:"Student Name"},{key:"amount",header:"Amount",render:e=>(0,t.jsxs)("span",{className:`font-mono font-medium ${"credit"===e.type?"text-green-500":"text-red-500"}`,children:["credit"===e.type?"+":"-"," ₹",e.amount.toLocaleString()]})},{key:"method",header:"Method",render:e=>(0,t.jsx)("span",{className:"capitalize text-xs text-muted-foreground border border-white/10 px-2 py-0.5 rounded",children:e.method})},{key:"status",header:"Status",render:e=>(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/10 text-green-500 capitalize",children:e.status})},{key:"date",header:"Date",render:e=>(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:e.date?.toDate?e.date.toDate().toLocaleDateString():"Just now"})},{key:"actions",header:"",render:e=>(0,t.jsx)(x.Button,{variant:"ghost",size:"icon",onClick:()=>V(e),title:"Print Receipt",className:"h-8 w-8 hover:bg-white/10",children:(0,t.jsx)(c.Printer,{className:"w-4 h-4"})})}],K=w.reduce((e,t)=>e+t.amount,0),Y=w.filter(e=>"razorpay"===e.method).reduce((e,t)=>e+t.amount,0),J=w.filter(e=>"cash"===e.method).reduce((e,t)=>e+t.amount,0);return(0,t.jsxs)("div",{className:"space-y-4 md:space-y-6 animate-in fade-in duration-500 max-w-none p-0 pb-20",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between pt-2 md:pt-4 gap-4 md:gap-6 px-2 md:px-0",children:[(0,t.jsxs)("div",{className:"space-y-0.5 md:space-y-1",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-5xl font-display font-bold bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent italic leading-tight",children:"Payments Ledger"}),(0,t.jsxs)("p",{className:"text-muted-foreground text-[10px] md:text-lg tracking-tight uppercase font-black opacity-50",children:["Tracking ",(0,t.jsx)("span",{className:"text-white",children:"incoming fee payments"})," and collections"]})]}),"MANAGER"!==T&&(0,t.jsxs)(u.Dialog,{open:v,onOpenChange:e=>{k(e),e||(z(null),I(""))},children:[(0,t.jsx)(u.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(x.Button,{className:"h-10 md:h-12 w-full md:w-auto gap-2 bg-white text-black hover:bg-zinc-200 rounded-xl font-black uppercase tracking-tighter px-6 shadow-lg shadow-white/10 text-xs md:text-sm",children:[(0,t.jsx)(o.Plus,{size:16,className:"stroke-[3]"})," Record Fee"]})}),(0,t.jsxs)(u.DialogContent,{className:"bg-black/95 border-white/10 backdrop-blur-xl sm:max-w-md w-[95vw] rounded-2xl",children:[(0,t.jsx)(u.DialogHeader,{children:(0,t.jsx)(u.DialogTitle,{className:"text-xl font-display italic",children:F?`Collect: ${F.studentName}`:"Find Student"})}),F?(0,t.jsxs)("form",{onSubmit:q,className:"space-y-4 py-4",children:[(0,t.jsxs)(x.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute left-4 top-4 h-6 px-2 text-xs text-muted-foreground hover:text-white",onClick:()=>z(null),children:[(0,t.jsx)(n.ArrowLeft,{className:"w-3 h-3 mr-1"})," Back"]}),(0,t.jsxs)("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-lg text-emerald-400 text-sm flex justify-between mt-2",children:[(0,t.jsx)("span",{children:"Current Due:"}),(0,t.jsxs)("span",{className:"font-bold font-mono",children:["₹",U.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(p.Label,{children:["Amount Received (₹) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(h.Input,{required:!0,type:"number",min:"1",placeholder:"Enter amount...",className:"bg-white/5 border-white/10 font-mono text-lg",value:M.amount,onChange:e=>$({...M,amount:e.target.value}),autoFocus:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{children:"Payment Mode"}),(0,t.jsxs)(f.Select,{value:M.method,onValueChange:e=>$({...M,method:e}),children:[(0,t.jsx)(f.SelectTrigger,{className:"bg-white/5 border-white/10",children:(0,t.jsx)(f.SelectValue,{})}),(0,t.jsxs)(f.SelectContent,{children:[(0,t.jsx)(f.SelectItem,{value:"cash",children:"Cash"}),(0,t.jsx)(f.SelectItem,{value:"upi",children:"UPI / GPay"}),(0,t.jsx)(f.SelectItem,{value:"cheque",children:"Cheque"}),(0,t.jsx)(f.SelectItem,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{children:"Date"}),(0,t.jsx)(h.Input,{type:"date",required:!0,className:"bg-white/5 border-white/10",value:M.date,onChange:e=>$({...M,date:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{children:"Remarks (Optional)"}),(0,t.jsx)(h.Input,{placeholder:"e.g. Receipt #123",className:"bg-white/5 border-white/10",value:M.remarks,onChange:e=>$({...M,remarks:e.target.value})})]}),(0,t.jsx)(u.DialogFooter,{children:(0,t.jsx)(x.Button,{type:"submit",disabled:_,className:"w-full bg-emerald-600 hover:bg-emerald-700",children:_?(0,t.jsx)(d.Loader2,{className:"animate-spin"}):"Confirm Payment"})})]}):(0,t.jsx)("div",{className:"space-y-4 py-4 relative mb-12",children:(0,t.jsxs)("div",{className:"space-y-2 relative",children:[(0,t.jsx)(p.Label,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Search Student"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(h.Input,{value:C,onChange:e=>(e=>{if(I(e),!e)return void A([]);let t=e.toLowerCase();A(R.filter(e=>e.schoolId&&e.schoolId.toLowerCase().includes(t)||e.studentName&&e.studentName.toLowerCase().includes(t)).slice(0,5))})(e.target.value),placeholder:"Type ID or Name...",className:"pl-9 h-11 bg-white/5 border-white/10 rounded-xl focus:ring-accent/30",autoFocus:!0})]}),P.length>0&&(0,t.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-black/95 border border-white/10 rounded-lg shadow-2xl overflow-hidden backdrop-blur-xl",children:P.map(e=>(0,t.jsxs)("button",{onClick:()=>O(e),className:"w-full px-4 py-3 text-left hover:bg-white/10 transition-colors flex items-center justify-between border-b border-white/5 last:border-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm text-white",children:e.studentName}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground font-mono",children:e.schoolId})]}),(0,t.jsx)("div",{className:"text-[10px] text-accent uppercase tracking-wider",children:e.className})]},e.id))}),C&&0===P.length&&(0,t.jsx)("div",{className:"text-center p-4 text-sm text-muted-foreground",children:"No students found."})]})})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2 md:gap-6",children:[(0,t.jsx)("div",{className:"bg-black/20 border border-white/5 backdrop-blur-sm p-3 md:p-6 rounded-xl flex flex-col md:flex-row md:items-center justify-between text-center md:text-left",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[8px] md:text-sm text-muted-foreground uppercase font-black tracking-widest",children:"Total"}),(0,t.jsxs)("h3",{className:"text-sm md:text-2xl font-bold mt-0.5 md:mt-1 text-white italic truncate",children:["₹ ",K.toLocaleString()]})]})}),(0,t.jsx)("div",{className:"bg-black/20 border border-white/5 backdrop-blur-sm p-3 md:p-6 rounded-xl flex flex-col md:flex-row md:items-center justify-between text-center md:text-left",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[8px] md:text-sm text-muted-foreground uppercase font-black tracking-widest",children:"Online"}),(0,t.jsxs)("h3",{className:"text-sm md:text-2xl font-bold mt-0.5 md:mt-1 text-blue-400 italic truncate",children:["₹ ",Y.toLocaleString()]})]})}),(0,t.jsx)("div",{className:"bg-black/20 border border-white/5 backdrop-blur-sm p-3 md:p-6 rounded-xl flex flex-col md:flex-row md:items-center justify-between text-center md:text-left",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[8px] md:text-sm text-muted-foreground uppercase font-black tracking-widest",children:"Cash"}),(0,t.jsxs)("h3",{className:"text-sm md:text-2xl font-bold mt-0.5 md:mt-1 text-emerald-400 italic truncate",children:["₹ ",J.toLocaleString()]})]})})]}),(0,t.jsx)(r.DataTable,{data:w,columns:G,isLoading:j})]})}e.s(["default",()=>w])}]);