(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19455,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(91918),r=e.i(75157);let i=s.forwardRef(({className:e,variant:s="default",size:i="default",asChild:l=!1,...d},c)=>{let o=l?a.Slot:"button";return(0,t.jsx)(o,{className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 tracking-wide",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:scale-105 active:scale-95 transition-transform":"default"===s,"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm":"destructive"===s,"border border-white/20 bg-transparent hover:bg-white/10 hover:text-accent-foreground":"outline"===s,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===s,"hover:bg-white/10 hover:text-accent font-normal":"ghost"===s,"text-primary underline-offset-4 hover:underline":"link"===s,"bg-gradient-to-r from-accent to-accent/80 text-black font-bold hover:brightness-110 border-0 shadow-lg hover:shadow-accent/20":"gradient"===s,"bg-accent text-black font-bold hover:bg-accent/90 hover:scale-105 active:scale-95 transition-transform shadow-lg":"spotify"===s,"h-10 px-6 py-2":"default"===i,"h-9 px-4 text-xs":"sm"===i,"h-12 px-8 text-base":"lg"===i,"h-14 px-10 text-lg":"xl"===i,"h-10 w-10":"icon"===i},e),ref:c,...d})});i.displayName="Button",e.s(["Button",()=>i])},15288,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let r=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("rounded-2xl border border-[#64FFDA]/10 bg-[#112240]/40 backdrop-blur-lg text-white shadow-xl transition-all duration-300 hover:bg-[#112240]/60 hover:border-[#64FFDA]/30 hover:shadow-[0_0_20px_-5px_rgba(100,255,218,0.1)] group",e),...s}));r.displayName="Card";let i=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("h3",{ref:r,className:(0,a.cn)("font-bold text-xl tracking-tight text-white group-hover:text-accent transition-colors",e),...s}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-white/60 font-medium",e),...s}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>c,"CardDescription",()=>d,"CardHeader",()=>i,"CardTitle",()=>l])},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},60221,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(32341);e.i(36180);var r=e.i(98925),i=e.i(59141),l=e.i(15288),d=e.i(19455),c=e.i(87486),o=e.i(31278),n=e.i(87316),x=e.i(78583),h=e.i(63209),u=e.i(69638),m=e.i(70756),f=e.i(22016);function b(){let{user:e}=(0,a.useAuth)(),[b,p]=(0,s.useState)(!0),[g,v]=(0,s.useState)([]),[w,j]=(0,s.useState)(null),[N,y]=(0,s.useState)("PENDING"),[F,C]=(0,s.useState)(0);(0,s.useEffect)(()=>{e&&D()},[e]);let D=async()=>{try{if(!e?.uid)return;let t=(0,r.query)((0,r.collection)(i.db,"students"),(0,r.where)("uid","==",e.uid)),s=await (0,r.getDocs)(t);if(s.empty)return void p(!1);let a={id:s.docs[0].id,...s.docs[0].data()},l=a.schoolId||a.id;j(a);let d=(0,r.doc)(i.db,"student_fee_ledgers",`${l}_2025-2026`),c=await (0,r.getDoc)(d),o=0;c.exists()&&(o=(c.data().items||[]).reduce((e,t)=>e+(t.amount-(t.paidAmount||0)),0)),C(o),y(o<=0?"CLEARED":"PENDING");let n=(0,r.query)((0,r.collection)(i.db,"exams"),(0,r.orderBy)("createdAt","desc")),x=(await (0,r.getDocs)(n)).docs.map(e=>({id:e.id,...e.data()})),h=a.classId,u=x.filter(e=>e.timetables&&e.timetables[h]);v(u)}catch(e){console.error(e)}finally{p(!1)}};return b?(0,t.jsx)("div",{className:"flex justify-center p-20 text-[#E6F1FF]",children:(0,t.jsx)(o.Loader2,{className:"animate-spin"})}):w?(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8 pb-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#E6F1FF]",children:"My Examinations"}),(0,t.jsx)("p",{className:"text-[#8892B0]",children:"View schedules and download hall tickets."})]}),"PENDING"===N&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 px-4 py-2 rounded-lg flex items-center gap-2 text-red-400",children:[(0,t.jsx)(h.AlertCircle,{className:"w-5 h-5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-sm",children:"Action Required"}),(0,t.jsxs)("p",{className:"text-xs",children:["Clear dues (â‚¹",F,") to access Hall Tickets."]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.map(e=>(0,t.jsxs)(l.Card,{className:"bg-[#112240] border-[#64FFDA]/10 hover:border-[#64FFDA]/30 transition-all group",children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-[#3B82F6]/10 flex items-center justify-center text-[#3B82F6] group-hover:scale-110 transition-transform",children:(0,t.jsx)(x.FileText,{className:"w-6 h-6"})}),(0,t.jsx)(c.Badge,{variant:"ACTIVE"===e.status?"default":"secondary",className:"bg-[#64FFDA]/10 text-[#64FFDA] border-[#64FFDA]/20",children:e.status||"Scheduled"})]}),(0,t.jsx)(l.CardTitle,{className:"text-[#E6F1FF] mt-4 text-xl",children:e.name}),(0,t.jsxs)(l.CardDescription,{className:"text-[#8892B0] flex items-center gap-2",children:[(0,t.jsx)(n.Calendar,{className:"w-4 h-4"}),new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]})]}),(0,t.jsxs)(l.CardContent,{children:[(0,t.jsxs)("div",{className:"bg-[#0A192F]/50 rounded p-3 mb-4 border border-white/5",children:[(0,t.jsx)("p",{className:"text-xs text-[#8892B0] uppercase tracking-wider mb-2",children:"Timetable Overview"}),(0,t.jsxs)("div",{className:"space-y-1",children:[Object.entries(e.timetables?.[w.classId]||{}).filter(([e,t])=>t.date).slice(0,3).map(([e,s])=>(0,t.jsxs)("div",{className:"flex justify-between text-sm text-[#E6F1FF]",children:[(0,t.jsx)("span",{children:e})," ",(0,t.jsx)("span",{className:"text-[#8892B0] text-xs",children:s.date})]},e)),Object.keys(e.timetables?.[w.classId]||{}).length>3&&(0,t.jsx)("div",{className:"text-xs text-[#64FFDA] pt-1 text-center",children:"+ More subjects"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:["RESULTS_RELEASED"===e.status&&(0,t.jsx)(f.default,{href:`/student/exams/${e.id}/results`,children:(0,t.jsxs)(d.Button,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold shadow-[0_0_15px_-5px_#10B981]",children:[(0,t.jsx)(x.FileText,{className:"w-4 h-4 mr-2"})," View Results / Report Card"]})}),"CLEARED"===N?(0,t.jsx)(f.default,{href:`/student/exams/${e.id}/hall-ticket`,target:"_blank",children:(0,t.jsxs)(d.Button,{variant:"outline",className:"w-full border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:[(0,t.jsx)(u.CheckCircle,{className:"w-4 h-4 mr-2"})," Download Hall Ticket"]})}):(0,t.jsxs)(d.Button,{disabled:!0,className:"w-full bg-white/5 text-[#8892B0] border border-white/10 cursor-not-allowed",children:[(0,t.jsx)(m.Lock,{className:"w-4 h-4 mr-2"})," Hall Ticket Locked (Fees Pending)"]})]})]})]},e.id)),0===g.length&&(0,t.jsxs)("div",{className:"col-span-full py-20 text-center border border-dashed border-[#64FFDA]/10 rounded-lg text-[#8892B0]",children:["No exams scheduled for your class (",w.className,") yet."]})]})]}):(0,t.jsx)("div",{className:"p-8 text-center text-[#8892B0]",children:"Student profile not found."})}e.s(["default",()=>b])}]);