(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let l=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("rounded-2xl border border-[#64FFDA]/10 bg-[#112240]/40 backdrop-blur-lg text-white shadow-xl transition-all duration-300 hover:bg-[#112240]/60 hover:border-[#64FFDA]/30 hover:shadow-[0_0_20px_-5px_rgba(100,255,218,0.1)] group",e),...s}));l.displayName="Card";let r=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));r.displayName="CardHeader";let i=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("h3",{ref:l,className:(0,a.cn)("font-bold text-xl tracking-tight text-white group-hover:text-accent transition-colors",e),...s}));i.displayName="CardTitle";let c=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("p",{ref:l,className:(0,a.cn)("text-sm text-white/60 font-medium",e),...s}));c.displayName="CardDescription";let d=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>l,"CardContent",()=>d,"CardDescription",()=>c,"CardHeader",()=>r,"CardTitle",()=>i])},84774,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let l=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:l,className:(0,a.cn)("w-full caption-bottom text-sm",e),...s})}));l.displayName="Table";let r=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("thead",{ref:l,className:(0,a.cn)("[&_tr]:border-b",e),...s}));r.displayName="TableHeader";let i=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("tbody",{ref:l,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...s}));i.displayName="TableBody",s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("tfoot",{ref:l,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let c=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("tr",{ref:l,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let d=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("th",{ref:l,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));d.displayName="TableHead";let n=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("td",{ref:l,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));n.displayName="TableCell",s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("caption",{ref:l,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>i,"TableCell",()=>n,"TableHead",()=>d,"TableHeader",()=>r,"TableRow",()=>c])},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},56883,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(32341),l=e.i(15288);e.i(36180);var r=e.i(98925),i=e.i(59141),c=e.i(10980),d=e.i(87316),n=e.i(84614),o=e.i(52571),x=e.i(31278),m=e.i(95468),h=e.i(63209),p=e.i(3116),b=e.i(72498),f=e.i(87486),g=e.i(84774);function w(){let e,{user:w}=(0,a.useAuth)(),{subjects:u,homeworkSubjects:N}=(0,b.useMasterData)(),[j,k]=(0,s.useState)([]),[y,v]=(0,s.useState)(!0),[C,T]=(0,s.useState)(null),[R,A]=(0,s.useState)(!1);(0,s.useEffect)(()=>{w&&(async()=>{try{let e=w.email?.split("@")[0].toUpperCase(),t=(0,r.doc)(i.db,"students",e),s=await (0,r.getDoc)(t);if(s.exists())T(s.data());else{let t=(0,r.query)((0,r.collection)(i.db,"students"),(0,r.where)("schoolId","==",e)),s=await (0,r.getDocs)(t);s.empty||T(s.docs[0].data())}}catch(e){console.error("Error fetching student profile:",e),v(!1)}})()},[w]),(0,s.useEffect)(()=>{if(!w||!C?.classId)return;let e=!0,t=C.classId,s=C.sectionId,a=R?(0,r.query)((0,r.collection)(i.db,"homework"),(0,r.where)("classId","==",t),(0,r.limit)(50)):(0,r.query)((0,r.collection)(i.db,"homework"),(0,r.where)("classId","==",t),(0,r.orderBy)("createdAt","desc"),(0,r.limit)(50)),l=(0,r.onSnapshot)(a,t=>{if(!e)return;let a=t.docs.map(e=>({id:e.id,...e.data()})),l=s?a.filter(e=>!e.sectionId||e.sectionId===s||"ALL"===e.sectionId||"GENERAL"===e.sectionId):a;R&&(l=l.sort((e,t)=>(t.createdAt?.seconds||0)-(e.createdAt?.seconds||0))),k(l),v(!1)},t=>{e&&(t.message.includes("index")&&!R?(console.warn("[Homework] Index missing, switching to fallback query."),A(!0)):t.message.includes("index")||(console.error("[Homework] Firestore Error:",t),v(!1)))});return()=>{e=!1,l()}},[w,C,R]);let B=(e={},j.forEach(t=>{e[t.subjectId]||(e[t.subjectId]=t)}),e),D=(()=>{if(!C?.classId)return[];let e=C.sectionId||"A",t=N[`${C.classId}_${e}`]||{};return Object.keys(t).filter(e=>t[e])})();return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 animate-in fade-in p-4 md:p-6 pb-20",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-black text-white tracking-tight",children:"Today's Homework"}),(0,t.jsx)("p",{className:"text-white/60 font-medium text-sm md:text-base",children:"Daily assignments for your class subjects."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 border border-white/10 px-4 py-2 rounded-2xl w-fit",children:[(0,t.jsx)(d.Calendar,{className:"w-4 h-4 text-accent"}),(0,t.jsx)("span",{className:"text-xs md:text-sm font-bold text-white/80",children:new Date().toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})})]})]}),y?(0,t.jsxs)("div",{className:"h-[40vh] flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)(x.Loader2,{className:"w-10 h-10 text-accent animate-spin"}),(0,t.jsx)("p",{className:"text-muted-foreground font-black uppercase tracking-widest text-[10px] animate-pulse font-mono",children:"Loading class subjects..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsxs)(l.Card,{className:"bg-black/40 border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,t.jsx)(g.TableHeader,{className:"bg-white/[0.03] border-b border-white/10",children:(0,t.jsxs)(g.TableRow,{className:"hover:bg-transparent border-none",children:[(0,t.jsx)(g.TableHead,{className:"w-[200px] text-white/50 uppercase text-[10px] font-black tracking-widest py-6",children:"Subject"}),(0,t.jsx)(g.TableHead,{className:"text-white/50 uppercase text-[10px] font-black tracking-widest py-6",children:"Assignment / Content"}),(0,t.jsx)(g.TableHead,{className:"w-[150px] text-white/50 uppercase text-[10px] font-black tracking-widest py-6",children:"Status"}),(0,t.jsx)(g.TableHead,{className:"w-[150px] text-white/50 uppercase text-[10px] font-black tracking-widest py-6 text-right",children:"Teacher"})]})}),(0,t.jsx)(g.TableBody,{children:0===D.length?(0,t.jsx)(g.TableRow,{children:(0,t.jsx)(g.TableCell,{colSpan:4,className:"py-20 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(h.AlertCircle,{className:"w-8 h-8 text-white/20"}),(0,t.jsx)("p",{className:"text-white/40 font-bold uppercase tracking-widest text-xs",children:"No homework-giving subjects defined for your class."})]})})}):D.map(e=>{let s=B[e],a=u[e]?.name||e;return(0,t.jsxs)(g.TableRow,{className:"border-white/5 hover:bg-white/[0.02] transition-colors group",children:[(0,t.jsx)(g.TableCell,{className:"py-6 align-top",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-white/5 border border-white/10 group-hover:border-accent/30 transition-all",children:(0,t.jsx)(c.BookOpen,{className:"w-4 h-4 text-accent"})}),(0,t.jsx)("span",{className:"font-bold text-white text-base tracking-tight",children:a})]})}),(0,t.jsx)(g.TableCell,{className:"py-6 align-top",children:s?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-bold text-white/90 text-sm leading-relaxed",children:s.title}),(0,t.jsx)("p",{className:"text-xs text-white/60 leading-relaxed whitespace-pre-wrap line-clamp-3 group-hover:line-clamp-none transition-all duration-500",children:s.description}),s.dueDate&&(0,t.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded bg-red-400/10 border border-red-400/20 text-red-400 text-[10px] font-black uppercase tracking-tighter",children:[(0,t.jsx)(p.Clock,{className:"w-3 h-3"})," Due: ",s.dueDate]})]}):(0,t.jsx)("div",{className:"flex items-center gap-2 text-white/20 italic text-sm py-2",children:"Not Assigned"})}),(0,t.jsx)(g.TableCell,{className:"py-6 align-top",children:s?(0,t.jsxs)(f.Badge,{className:"bg-[#10B981]/10 text-[#10B981] border-[#10B981]/20 font-black uppercase text-[9px] tracking-widest",children:[(0,t.jsx)(m.CheckCircle2,{className:"w-3 h-3 mr-1.5"})," Published"]}):(0,t.jsx)(f.Badge,{variant:"outline",className:"text-white/20 border-white/10 font-black uppercase text-[9px] tracking-widest",children:"Pending"})}),(0,t.jsx)(g.TableCell,{className:"py-6 align-top text-right",children:s?(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-white/80",children:s.teacherName}),(0,t.jsx)("div",{className:"text-[10px] text-white/30 font-mono uppercase tracking-tighter",children:s.createdAt?new Date(1e3*s.createdAt.seconds).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Recently"})]}):(0,t.jsx)("span",{className:"text-white/10",children:"--"})})]},e)})})]})}),(0,t.jsx)("div",{className:"md:hidden space-y-4",children:0===D.length?(0,t.jsxs)("div",{className:"py-20 text-center bg-black/40 rounded-3xl border border-dashed border-white/10",children:[(0,t.jsx)(h.AlertCircle,{className:"w-8 h-8 text-white/20 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-white/40 font-bold uppercase tracking-widest text-[10px] px-6",children:"No homework-giving subjects defined."})]}):D.map(e=>{let s=B[e],a=u[e]?.name||e;return(0,t.jsx)(l.Card,{className:`bg-black/40 border-white/10 overflow-hidden ${s?"border-l-4 border-l-emerald-500":"opacity-60 border-l-4 border-l-white/10"}`,children:(0,t.jsxs)(l.CardContent,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${s?"bg-emerald-500/10 text-emerald-500":"bg-white/5 text-white/40"}`,children:(0,t.jsx)(c.BookOpen,{className:"w-4 h-4"})}),(0,t.jsx)("span",{className:"font-black text-white text-base tracking-tight uppercase",children:a})]}),s?(0,t.jsx)(f.Badge,{className:"bg-[#10B981]/10 text-[#10B981] border-none text-[8px] font-black tracking-widest uppercase",children:"Posted"}):(0,t.jsx)(f.Badge,{variant:"outline",className:"text-white/20 border-white/10 text-[8px] font-black tracking-widest uppercase",children:"N/A"})]}),s?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"font-bold text-white text-sm leading-snug",children:s.title}),(0,t.jsx)("p",{className:"text-xs text-white/60 line-clamp-2 leading-relaxed",children:s.description}),(0,t.jsxs)("div",{className:"pt-2 flex items-center justify-between border-t border-white/5",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] text-white/40 font-black uppercase tracking-widest",children:"Teacher"}),(0,t.jsx)("span",{className:"text-xs font-bold text-white/80",children:s.teacherName})]}),s.dueDate&&(0,t.jsxs)("div",{className:"text-right flex flex-col items-end",children:[(0,t.jsx)("span",{className:"text-[10px] text-red-500/60 font-black uppercase tracking-widest",children:"Due"}),(0,t.jsx)("span",{className:"text-xs font-bold text-red-400",children:s.dueDate})]})]})]}):(0,t.jsx)("div",{className:"py-4 text-white/20 text-xs font-bold uppercase italic tracking-widest text-center",children:"No assignment posted today"})]})},e)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[(0,t.jsxs)(l.Card,{className:"bg-emerald-500/5 border-emerald-500/20 p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-500/10 rounded-2xl",children:(0,t.jsx)(m.CheckCircle2,{className:"w-6 h-6 text-emerald-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-black text-white",children:Object.keys(B).filter(e=>D.includes(e)).length}),(0,t.jsx)("div",{className:"text-[10px] uppercase font-black tracking-widest text-white/40",children:"Assignments Posted"})]})]}),(0,t.jsxs)(l.Card,{className:"bg-amber-500/5 border-amber-500/20 p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-amber-500/10 rounded-2xl",children:(0,t.jsx)(o.Info,{className:"w-6 h-6 text-amber-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-black text-white",children:D.length-Object.keys(B).filter(e=>D.includes(e)).length}),(0,t.jsx)("div",{className:"text-[10px] uppercase font-black tracking-widest text-white/40",children:"Pending Subjects"})]})]}),(0,t.jsxs)(l.Card,{className:"hidden lg:flex bg-indigo-500/5 border-indigo-500/20 p-4 items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-indigo-500/10 rounded-2xl",children:(0,t.jsx)(n.User,{className:"w-6 h-6 text-indigo-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[10px] uppercase font-black tracking-widest text-white/40 italic",children:"Academic Profile"}),(0,t.jsx)("div",{className:"text-sm font-bold text-white truncate",children:C?.studentName||"Verified Student"})]})]})]})]})]})}e.s(["default",()=>w])}]);